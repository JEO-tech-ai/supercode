import{getOwner as ro,runWithOwner as io,createMemo as K,useContext as ne,createContext as le,createSignal as P,createRenderEffect as so,on as Oe,startTransition as Ar,resetErrorBoundaries as Ir,batch as Kr,untrack as wt,createComponent as Fr,onCleanup as R,DEV as Mr,createEffect as I,$TRACK as Rr,createRoot as vn,mergeProps as Xt,splitProps as N,onMount as Gt,createUniqueId as Ie,Show as te,createComputed as kr,For as bn,Switch as Br,Match as wn,children as Vr}from"solid-js";import{isServer as z,getRequestEvent as Sn,createComponent as E,Dynamic as Nr,mergeProps as k,Portal as Zt,ssr as gt,ssrHydrationKey as $t,escape as ye,ssrAttribute as me,ssrStyle as _r,ssrStyleProperty as $r,ssrElement as Wr}from"solid-js/web";function Ur(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function o(r,i){if(n)return!(n=!1);const s={to:r,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const l of e)l.listener({...s,from:l.location,retry:c=>{c&&(n=!0),l.navigate(r,{...i,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:o}}let Wt;function lo(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Wt=window.history.state._depth}z||lo();function ec(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function tc(e,t){let n=!1;return()=>{const o=Wt;lo();const r=o==null?null:Wt-o;if(n){n=!1;return}r&&t(r)?(n=!0,window.history.go(-r)):e()}}const zr=/^(?:[a-z0-9]+:)?\/\//i,Hr=/^\/+|(\/)\/+$/g,jr="http://sr";function Ze(e,t=!1){const n=e.replace(Hr,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function ht(e,t,n){if(zr.test(t))return;const o=Ze(e),r=n&&Ze(n);let i="";return!r||t.startsWith("/")?i=o:r.toLowerCase().indexOf(o.toLowerCase())!==0?i=o+r:i=r,(i||"/")+Ze(t,!i)}function qr(e,t){if(e==null)throw new Error(t);return e}function Yr(e,t){return Ze(e).replace(/\/*(\*.*)?$/g,"")+Ze(t)}function co(e){const t={};return e.searchParams.forEach((n,o)=>{o in t?Array.isArray(t[o])?t[o].push(n):t[o]=[t[o],n]:t[o]=n}),t}function Xr(e,t,n){const[o,r]=e.split("/*",2),i=o.split("/").filter(Boolean),s=i.length;return l=>{const c=l.split("/").filter(Boolean),a=c.length-s;if(a<0||a>0&&r===void 0&&!t)return null;const u={path:s?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<s;f++){const g=i[f],h=g[0]===":",m=h?c[f]:c[f].toLowerCase(),y=h?g.slice(1):g.toLowerCase();if(h&&Mt(m,d(y)))u.params[y]=m;else if(h||!Mt(m,y))return null;u.path+=`/${m}`}if(r){const f=a?c.slice(-a).join("/"):"";if(Mt(f,d(r)))u.params[r]=f;else return null}return u}}function Mt(e,t){const n=o=>o===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Gr(e){const[t,n]=e.pattern.split("/*",2),o=t.split("/").filter(Boolean);return o.reduce((r,i)=>r+(i.startsWith(":")?2:3),o.length-(n===void 0?0:1))}function ao(e){const t=new Map,n=ro();return new Proxy({},{get(o,r){return t.has(r)||io(n,()=>t.set(r,K(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(o,r){return r in e()}})}function uo(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),o=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(o);)r.push(n+=t[1]),o=o.slice(t[0].length);return uo(o).reduce((i,s)=>[...i,...r.map(l=>l+s)],[])}const Zr=100,Jr=le(),fo=le(),Jt=()=>qr(ne(Jr),"<A> and 'use' router primitives can be only used inside a Route."),Qr=()=>ne(fo)||Jt().base,nc=e=>{const t=Qr();return K(()=>t.resolvePath(e()))},oc=e=>{const t=Jt();return K(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},rc=()=>Jt().location;function ei(e,t=""){const{component:n,preload:o,load:r,children:i,info:s}=e,l=!i||Array.isArray(i)&&!i.length,c={key:e,component:n,preload:o||r,info:s};return go(e.path).reduce((a,u)=>{for(const d of uo(u)){const f=Yr(t,d);let g=l?f:f.split("/*",1)[0];g=g.split("/").map(h=>h.startsWith(":")||h.startsWith("*")?h:encodeURIComponent(h)).join("/"),a.push({...c,originalPath:u,pattern:g,matcher:Xr(g,!l,e.matchFilters)})}return a},[])}function ti(e,t=0){return{routes:e,score:Gr(e[e.length-1])*1e4-t,matcher(n){const o=[];for(let r=e.length-1;r>=0;r--){const i=e[r],s=i.matcher(n);if(!s)return null;o.unshift({...s,route:i})}return o}}}function go(e){return Array.isArray(e)?e:[e]}function ni(e,t="",n=[],o=[]){const r=go(e);for(let i=0,s=r.length;i<s;i++){const l=r[i];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const c=ei(l,t);for(const a of c){n.push(a);const u=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!u)ni(l.children,a.pattern,n,o);else{const d=ti([...n],o.length);o.push(d)}n.pop()}}}return n.length?o:o.sort((i,s)=>s.score-i.score)}function Rt(e,t){for(let n=0,o=e.length;n<o;n++){const r=e[n].matcher(t);if(r)return r}return[]}function oi(e,t,n){const o=new URL(jr),r=K(u=>{const d=e();try{return new URL(d,o)}catch{return console.error(`Invalid path ${d}`),u}},o,{equals:(u,d)=>u.href===d.href}),i=K(()=>r().pathname),s=K(()=>r().search,!0),l=K(()=>r().hash),c=()=>"",a=Oe(s,()=>co(r()));return{get pathname(){return i()},get search(){return s()},get hash(){return l()},get state(){return t()},get key(){return c()},query:n?n(a):ao(a)}}let Le;function ic(){return Le}function sc(e,t,n,o={}){const{signal:[r,i],utils:s={}}=e,l=s.parsePath||(O=>O),c=s.renderPath||(O=>O),a=s.beforeLeave||Ur(),u=ht("",o.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!r().value&&i({value:u,replace:!0,scroll:!1});const[d,f]=P(!1);let g;const h=(O,C)=>{C.value===m()&&C.state===v()||(g===void 0&&f(!0),Le=O,g=C,Ar(()=>{g===C&&(y(g.value),p(g.state),Ir(),z||S[1](B=>B.filter(W=>W.pending)))}).finally(()=>{g===C&&Kr(()=>{Le=void 0,O==="navigate"&&V(g),f(!1),g=void 0})}))},[m,y]=P(r().value),[v,p]=P(r().state),w=oi(m,v,s.queryWrapper),x=[],S=P(z?A():[]),L=K(()=>typeof o.transformUrl=="function"?Rt(t(),o.transformUrl(w.pathname)):Rt(t(),w.pathname)),T=()=>{const O=L(),C={};for(let B=0;B<O.length;B++)Object.assign(C,O[B].params);return C},D=s.paramsWrapper?s.paramsWrapper(T,t):ao(T),M={pattern:u,path:()=>u,outlet:()=>null,resolvePath(O){return ht(u,O)}};return so(Oe(r,O=>h("native",O),{defer:!0})),{base:M,location:w,params:D,isRouting:d,renderPath:c,parsePath:l,navigatorFactory:U,matches:L,beforeLeave:a,preloadRoute:Z,singleFlight:o.singleFlight===void 0?!0:o.singleFlight,submissions:S};function $(O,C,B){wt(()=>{if(typeof C=="number"){C&&(s.go?s.go(C):console.warn("Router integration does not support relative routing"));return}const W=!C||C[0]==="?",{replace:G,resolve:oe,scroll:Me,state:Se}={replace:!1,resolve:!W,scroll:!0,...B},xe=oe?O.resolvePath(C):ht(W&&w.pathname||"",C);if(xe===void 0)throw new Error(`Path '${C}' is not a routable path`);if(x.length>=Zr)throw new Error("Too many redirects");const ct=m();if(xe!==ct||Se!==v())if(z){const ze=Sn();ze&&(ze.response={status:302,headers:new Headers({Location:xe})}),i({value:xe,replace:G,scroll:Me,state:Se})}else a.confirm(xe,B)&&(x.push({value:ct,replace:G,scroll:Me,state:v()}),h("navigate",{value:xe,state:Se}))})}function U(O){return O=O||ne(fo)||M,(C,B)=>$(O,C,B)}function V(O){const C=x[0];C&&(i({...O,replace:C.replace,scroll:C.scroll}),x.length=0)}function Z(O,C){const B=Rt(t(),O.pathname),W=Le;Le="preload";for(let G in B){const{route:oe,params:Me}=B[G];oe.component&&oe.component.preload&&oe.component.preload();const{preload:Se}=oe;C&&Se&&io(n(),()=>Se({params:Me,location:{pathname:O.pathname,search:O.search,hash:O.hash,query:co(O),state:null,key:""},intent:"preload"}))}Le=W}function A(){const O=Sn();return O&&O.router&&O.router.submission?[O.router.submission]:[]}}function lc(e,t,n,o){const{base:r,location:i,params:s}=e,{pattern:l,component:c,preload:a}=o().route,u=K(()=>o().path);c&&c.preload&&c.preload();const d=a?a({params:s,location:i,intent:Le||"initial"}):void 0;return{parent:t,pattern:l,path:u,outlet:()=>c?Fr(c,{params:s,location:i,data:d,get children(){return n()}}):n(),resolvePath(g){return ht(r.path(),g,u())}}}const ri=!z,ii=ri&&!!Mr;const b=e=>typeof e=="function"&&!e.length?e():e,xn=e=>Array.isArray(e)?e:e?[e]:[];function si(e,...t){return typeof e=="function"?e(...t):e}const li=ii?e=>ro()?R(e):e:R;function ci(e,t,n,o){return e.addEventListener(t,n,o),li(e.removeEventListener.bind(e,t,n,o))}function ai(e,t,n,o){if(z)return;const r=()=>{xn(b(e)).forEach(i=>{i&&xn(b(t)).forEach(s=>ci(i,s,n,o))})};typeof e=="function"?I(r):so(r)}const kt=Symbol("fallback");function En(e){for(const t of e)t.dispose()}function ui(e,t,n,o={}){if(z){const s=e();let l=[];if(s&&s.length)for(let c=0,a=s.length;c<a;c++)l.push(n(()=>s[c],()=>c));else o.fallback&&(l=[o.fallback()]);return()=>l}const r=new Map;return R(()=>En(r.values())),()=>{const s=e()||[];return s[Rr],wt(()=>{if(!s.length)return En(r.values()),r.clear(),o.fallback?[vn(d=>(r.set(kt,{dispose:d}),o.fallback()))]:[];const l=new Array(s.length),c=r.get(kt);if(!r.size||c){c?.dispose(),r.delete(kt);for(let u=0;u<s.length;u++){const d=s[u],f=t(d,u);i(l,d,u,f)}return l}const a=new Set(r.keys());for(let u=0;u<s.length;u++){const d=s[u],f=t(d,u);a.delete(f);const g=r.get(f);g?(l[u]=g.mapped,g.setIndex?.(u),g.setItem(()=>d)):i(l,d,u,f)}for(const u of a)r.get(u)?.dispose(),r.delete(u);return l})};function i(s,l,c,a){vn(u=>{const[d,f]=P(l),g={setItem:f,dispose:u};if(n.length>1){const[h,m]=P(c);g.setIndex=m,g.mapped=n(d,h)}else g.mapped=n(d);r.set(a,g),s[c]=g.mapped})}}function di(e){const{by:t}=e;return K(ui(()=>e.each,typeof t=="function"?t:n=>n[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}const fi=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Dn(e){const t={};let n;for(;n=fi.exec(e);)t[n[1]]=n[2];return t}function tt(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=Dn(e)}else typeof t=="string"&&(t=Dn(t));return{...e,...t}}function Tn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function gi(e){return typeof e=="number"}function Be(e){return Object.prototype.toString.call(e)==="[object String]"}function Qt(e){return typeof e=="function"}function $e(e){return t=>`${e()}-${t}`}function de(e,t){return e?e===t||e.contains(t):!1}function Ye(e,t=!1){const{activeElement:n}=se(e);if(!n?.nodeName)return null;if(po(n)&&n.contentDocument)return Ye(n.contentDocument.body,t);if(t){const o=n.getAttribute("aria-activedescendant");if(o){const r=se(n).getElementById(o);if(r)return r}}return n}function ho(e){return se(e).defaultView||window}function se(e){return e?e.ownerDocument||e:document}function po(e){return e.tagName==="IFRAME"}var mo=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(mo||{});function yo(e){return typeof window>"u"||window.navigator==null?!1:window.navigator.userAgentData?.brands.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function en(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.userAgentData?.platform||window.navigator.platform):!1}function nt(){return en(/^Mac/i)}function hi(){return en(/^iPhone/i)}function pi(){return en(/^iPad/i)||nt()&&navigator.maxTouchPoints>1}function mi(){return hi()||pi()}function yi(){return nt()||mi()}function vi(){return yo(/AppleWebKit/i)&&!bi()}function bi(){return yo(/Chrome/i)}function H(e,t){return t&&(Qt(t)?t(e):t[0](t[1],e)),e?.defaultPrevented}function ie(e){return t=>{for(const n of e)H(t,n)}}function wi(e){return nt()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function X(e){if(e)if(Si())e.focus({preventScroll:!0});else{const t=xi(e);e.focus(),Ei(t)}}var at=null;function Si(){if(at==null){at=!1;try{document.createElement("div").focus({get preventScroll(){return at=!0,!0}})}catch{}}return at}function xi(e){let t=e.parentNode;const n=[],o=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return o instanceof HTMLElement&&n.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),n}function Ei(e){for(const{element:t,scrollTop:n,scrollLeft:o}of e)t.scrollTop=n,t.scrollLeft=o}var vo=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],Di=[...vo,'[tabindex]:not([tabindex="-1"]):not([disabled])'],tn=`${vo.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,Ti=Di.join(':not([hidden]):not([tabindex="-1"]),');function bo(e,t){const o=Array.from(e.querySelectorAll(tn)).filter(On);return t&&On(e)&&o.unshift(e),o.forEach((r,i)=>{if(po(r)&&r.contentDocument){const s=r.contentDocument.body,l=bo(s,!1);o.splice(i,1,...l)}}),o}function On(e){return wo(e)&&!Oi(e)}function wo(e){return e.matches(tn)&&nn(e)}function Oi(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function nn(e,t){return e.nodeName!=="#comment"&&Pi(e)&&Ci(e,t)&&(!e.parentElement||nn(e.parentElement,e))}function Pi(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:n}=e.style;let o=t!=="none"&&n!=="hidden"&&n!=="collapse";if(o){if(!e.ownerDocument.defaultView)return o;const{getComputedStyle:r}=e.ownerDocument.defaultView,{display:i,visibility:s}=r(e);o=i!=="none"&&s!=="hidden"&&s!=="collapse"}return o}function Ci(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function Li(e,t,n){const o=t?.tabbable?Ti:tn,r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(i){return t?.from?.contains(i)?NodeFilter.FILTER_REJECT:i.matches(o)&&nn(i)&&(!t?.accept||t.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(r.currentNode=t.from),r}function Ai(){}function Ii(e){return[e.clientX,e.clientY]}function Ki(e,t){const[n,o]=e;let r=!1;const i=t.length;for(let s=i,l=0,c=s-1;l<s;c=l++){const[a,u]=t[l],[d,f]=t[c],[,g]=t[c===0?s-1:c-1]||[0,0],h=(u-f)*(n-a)-(a-d)*(o-u);if(f<u){if(o>=f&&o<u){if(h===0)return!0;h>0&&(o===f?o>g&&(r=!r):r=!r)}}else if(u<f){if(o>u&&o<=f){if(h===0)return!0;h<0&&(o===f?o<g&&(r=!r):r=!r)}}else if(o===u&&(n>=d&&n<=a||n>=a&&n<=d))return!0}return r}function _(e,t){return Xt(e,t)}var He=new Map,Pn=new Set;function Cn(){if(typeof window>"u")return;const e=n=>{if(!n.target)return;let o=He.get(n.target);o||(o=new Set,He.set(n.target,o),n.target.addEventListener("transitioncancel",t)),o.add(n.propertyName)},t=n=>{if(!n.target)return;const o=He.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",t),He.delete(n.target)),He.size===0)){for(const r of Pn)r();Pn.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?Cn():document.addEventListener("DOMContentLoaded",Cn));function Ln(e,t){const n=An(e,t,"left"),o=An(e,t,"top"),r=t.offsetWidth,i=t.offsetHeight;let s=e.scrollLeft,l=e.scrollTop;const c=s+e.offsetWidth,a=l+e.offsetHeight;n<=s?s=n:n+r>c&&(s+=n+r-c),o<=l?l=o:o+i>a&&(l+=o+i-a),e.scrollLeft=s,e.scrollTop=l}function An(e,t,n){const o=n==="left"?"offsetLeft":"offsetTop";let r=0;for(;t.offsetParent&&(r+=t[o],t.offsetParent!==e);){if(t.offsetParent.contains(e)){r-=e[o];break}t=t.offsetParent}return r}var So={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function xo(e,t){const[n,o]=P(In(t?.()));return I(()=>{o(e()?.tagName.toLowerCase()||In(t?.()))}),n}function In(e){return Be(e)?e:void 0}function j(e){const[t,n]=N(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return E(Nr,k(n,{get component(){return t.as}}))}var Fi=Object.defineProperty,ot=(e,t)=>{for(var n in t)Fi(e,n,{get:t[n],enumerable:!0})},Mi={};ot(Mi,{Button:()=>Bi,Root:()=>rt});var Ri=["button","color","file","image","reset","submit"];function ki(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?Ri.indexOf(e.type)!==-1:!1}function rt(e){let t;const n=_({type:"button"},e),[o,r]=N(n,["ref","type","disabled"]),i=xo(()=>t,()=>"button"),s=K(()=>{const a=i();return a==null?!1:ki({tagName:a,type:o.type})}),l=K(()=>i()==="input"),c=K(()=>i()==="a"&&t?.getAttribute("href")!=null);return E(j,k({as:"button",get type(){return s()||l()?o.type:void 0},get role(){return!s()&&!c()?"button":void 0},get tabIndex(){return!s()&&!c()&&!o.disabled?0:void 0},get disabled(){return s()||l()?o.disabled:void 0},get"aria-disabled"(){return!s()&&!l()&&o.disabled?!0:void 0},get"data-disabled"(){return o.disabled?"":void 0}},r))}var Bi=rt,pt="data-kb-top-layer",Eo,Ut=!1,be=[];function Je(e){return be.findIndex(t=>t.node===e)}function Vi(e){return be[Je(e)]}function Ni(e){return be[be.length-1].node===e}function Do(){return be.filter(e=>e.isPointerBlocking)}function _i(){return[...Do()].slice(-1)[0]}function on(){return Do().length>0}function To(e){const t=Je(_i()?.node);return Je(e)<t}function $i(e){be.push(e)}function Wi(e){const t=Je(e);t<0||be.splice(t,1)}function Ui(){for(const{node:e}of be)e.style.pointerEvents=To(e)?"none":"auto"}function zi(e){if(on()&&!Ut){const t=se(e);Eo=document.body.style.pointerEvents,t.body.style.pointerEvents="none",Ut=!0}}function Hi(e){if(on())return;const t=se(e);t.body.style.pointerEvents=Eo,t.body.style.length===0&&t.body.removeAttribute("style"),Ut=!1}var ut={layers:be,isTopMostLayer:Ni,hasPointerBlockingLayer:on,isBelowPointerBlockingLayer:To,addLayer:$i,removeLayer:Wi,indexOf:Je,find:Vi,assignPointerEventToLayers:Ui,disableBodyPointerEvents:zi,restoreBodyPointerEvents:Hi},Bt="focusScope.autoFocusOnMount",Vt="focusScope.autoFocusOnUnmount",Kn={bubbles:!1,cancelable:!0},Fn={stack:[],active(){return this.stack[0]},add(e){e!==this.active()&&this.active()?.pause(),this.stack=Tn(this.stack,e),this.stack.unshift(e)},remove(e){this.stack=Tn(this.stack,e),this.active()?.resume()}};function Oo(e,t){const[n,o]=P(!1),r={pause(){o(!0)},resume(){o(!1)}};let i=null;const s=h=>e.onMountAutoFocus?.(h),l=h=>e.onUnmountAutoFocus?.(h),c=()=>se(t()),a=()=>{const h=c().createElement("span");return h.setAttribute("data-focus-trap",""),h.tabIndex=0,Object.assign(h.style,So),h},u=()=>{const h=t();return h?bo(h,!0).filter(m=>!m.hasAttribute("data-focus-trap")):[]},d=()=>{const h=u();return h.length>0?h[0]:null},f=()=>{const h=u();return h.length>0?h[h.length-1]:null},g=()=>{const h=t();if(!h)return!1;const m=Ye(h);return!m||de(h,m)?!1:wo(m)};I(()=>{if(z)return;const h=t();if(!h)return;Fn.add(r);const m=Ye(h);if(!de(h,m)){const v=new CustomEvent(Bt,Kn);h.addEventListener(Bt,s),h.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{X(d()),Ye(h)===m&&X(h)},0)}R(()=>{h.removeEventListener(Bt,s),setTimeout(()=>{const v=new CustomEvent(Vt,Kn);g()&&v.preventDefault(),h.addEventListener(Vt,l),h.dispatchEvent(v),v.defaultPrevented||X(m??c().body),h.removeEventListener(Vt,l),Fn.remove(r)},0)})}),I(()=>{if(z)return;const h=t();if(!h||!b(e.trapFocus)||n())return;const m=v=>{const p=v.target;p?.closest(`[${pt}]`)||(de(h,p)?i=p:X(i))},y=v=>{const w=v.relatedTarget??Ye(h);w?.closest(`[${pt}]`)||de(h,w)||X(i)};c().addEventListener("focusin",m),c().addEventListener("focusout",y),R(()=>{c().removeEventListener("focusin",m),c().removeEventListener("focusout",y)})}),I(()=>{if(z)return;const h=t();if(!h||!b(e.trapFocus)||n())return;const m=a();h.insertAdjacentElement("afterbegin",m);const y=a();h.insertAdjacentElement("beforeend",y);function v(w){const x=d(),S=f();w.relatedTarget===x?X(S):X(x)}m.addEventListener("focusin",v),y.addEventListener("focusin",v);const p=new MutationObserver(w=>{for(const x of w)x.previousSibling===y&&(y.remove(),h.insertAdjacentElement("beforeend",y)),x.nextSibling===m&&(m.remove(),h.insertAdjacentElement("afterbegin",m))});p.observe(h,{childList:!0,subtree:!1}),R(()=>{m.removeEventListener("focusin",v),y.removeEventListener("focusin",v),m.remove(),y.remove(),p.disconnect()})})}var ji="data-live-announcer";function Po(e){I(()=>{b(e.isDisabled)||R(qi(b(e.targets),b(e.root)))})}var je=new WeakMap,re=[];function qi(e,t=document.body){const n=new Set(e),o=new Set,r=c=>{for(const f of c.querySelectorAll(`[${ji}], [${pt}]`))n.add(f);const a=f=>{if(n.has(f)||f.parentElement&&o.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const g of n)if(f.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,{acceptNode:a}),d=a(c);if(d===NodeFilter.FILTER_ACCEPT&&i(c),d!==NodeFilter.FILTER_REJECT){let f=u.nextNode();for(;f!=null;)i(f),f=u.nextNode()}},i=c=>{const a=je.get(c)??0;c.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&c.setAttribute("aria-hidden","true"),o.add(c),je.set(c,a+1))};re.length&&re[re.length-1].disconnect(),r(t);const s=new MutationObserver(c=>{for(const a of c)if(!(a.type!=="childList"||a.addedNodes.length===0)&&![...n,...o].some(u=>u.contains(a.target))){for(const u of a.removedNodes)u instanceof Element&&(n.delete(u),o.delete(u));for(const u of a.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?n.add(u):u instanceof Element&&r(u)}});s.observe(t,{childList:!0,subtree:!0});const l={observe(){s.observe(t,{childList:!0,subtree:!0})},disconnect(){s.disconnect()}};return re.push(l),()=>{s.disconnect();for(const c of o){const a=je.get(c);if(a==null)return;a===1?(c.removeAttribute("aria-hidden"),je.delete(c)):je.set(c,a-1)}l===re[re.length-1]?(re.pop(),re.length&&re[re.length-1].observe()):re.splice(re.indexOf(l),1)}}var Mn="interactOutside.pointerDownOutside",Rn="interactOutside.focusOutside";function Yi(e,t){let n,o=Ai;const r=()=>se(t()),i=d=>e.onPointerDownOutside?.(d),s=d=>e.onFocusOutside?.(d),l=d=>e.onInteractOutside?.(d),c=d=>{const f=d.target;return!(f instanceof Element)||f.closest(`[${pt}]`)||!de(r(),f)||de(t(),f)?!1:!e.shouldExcludeElement?.(f)},a=d=>{function f(){const g=t(),h=d.target;if(!g||!h||!c(d))return;const m=ie([i,l]);h.addEventListener(Mn,m,{once:!0});const y=new CustomEvent(Mn,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:d.button===2||wi(d)&&d.button===0}});h.dispatchEvent(y)}d.pointerType==="touch"?(r().removeEventListener("click",f),o=f,r().addEventListener("click",f,{once:!0})):f()},u=d=>{const f=t(),g=d.target;if(!f||!g||!c(d))return;const h=ie([s,l]);g.addEventListener(Rn,h,{once:!0});const m=new CustomEvent(Rn,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:!1}});g.dispatchEvent(m)};I(()=>{z||b(e.isDisabled)||(n=window.setTimeout(()=>{r().addEventListener("pointerdown",a,!0)},0),r().addEventListener("focusin",u,!0),R(()=>{window.clearTimeout(n),r().removeEventListener("click",o),r().removeEventListener("pointerdown",a,!0),r().removeEventListener("focusin",u,!0)}))})}function Xi(e){const t=n=>{n.key,mo.Escape};I(()=>{if(z||b(e.isDisabled))return;const n=e.ownerDocument?.()??se();n.addEventListener("keydown",t),R(()=>{n.removeEventListener("keydown",t)})})}var Co=le();function Gi(){return ne(Co)}function rn(e){let t;const n=Gi(),[o,r]=N(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),i=new Set([]),s=d=>{i.add(d);const f=n?.registerNestedLayer(d);return()=>{i.delete(d),f?.()}};Yi({shouldExcludeElement:d=>!1,onPointerDownOutside:d=>{},onFocusOutside:d=>{o.onFocusOutside?.(d),o.onInteractOutside?.(d),d.defaultPrevented||o.onDismiss?.()}},()=>t),Xi({ownerDocument:()=>se(t),onEscapeKeyDown:d=>{}}),Gt(()=>{}),I(Oe([()=>t,()=>o.disableOutsidePointerEvents],([d,f])=>{if(!d)return;const g=ut.find(d);g&&g.isPointerBlocking!==f&&(g.isPointerBlocking=f,ut.assignPointerEventToLayers()),f&&ut.disableBodyPointerEvents(d),R(()=>{ut.restoreBodyPointerEvents(d)})},{defer:!0}));const u={registerNestedLayer:s};return E(Co.Provider,{value:u,get children(){return E(j,k({as:"div"},r))}})}function Lo(e){const[t,n]=P(e.defaultValue?.()),o=K(()=>e.value?.()!==void 0),r=K(()=>o()?e.value?.():t());return[r,s=>{wt(()=>{const l=si(s,r());return Object.is(l,r())||(o()||n(l),e.onChange?.(l)),l})}]}function Zi(e){const[t,n]=Lo(e);return[()=>t()??!1,n]}function sn(e={}){const[t,n]=Zi({value:()=>b(e.open),defaultValue:()=>!!b(e.defaultOpen),onChange:s=>e.onOpenChange?.(s)}),o=()=>{n(!0)},r=()=>{n(!1)};return{isOpen:t,setIsOpen:n,open:o,close:r,toggle:()=>{t()?r():o()}}}function Q(e){return t=>(e(t),()=>e(void 0))}var Y=e=>typeof e=="function"?e():e,zt=(e,t)=>{if(e.contains(t))return!0;let n=t;for(;n;){if(n===e)return!0;n=n._$host??n.parentElement}return!1},dt=new Map,Ji=e=>{I(()=>{const t=Y(e.style)??{},n=Y(e.properties)??[],o={};for(const i in t)o[i]=e.element.style[i];const r=dt.get(e.key);r?r.activeCount++:dt.set(e.key,{activeCount:1,originalStyles:o,properties:n.map(i=>i.key)}),Object.assign(e.element.style,e.style);for(const i of n)e.element.style.setProperty(i.key,i.value);R(()=>{const i=dt.get(e.key);if(i){if(i.activeCount!==1){i.activeCount--;return}dt.delete(e.key);for(const[s,l]of Object.entries(i.originalStyles))e.element.style[s]=l;for(const s of i.properties)e.element.style.removeProperty(s);e.element.style.length===0&&e.element.removeAttribute("style"),e.cleanup?.()}})})},kn=Ji,Qi=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},es=(e,t)=>{const n=getComputedStyle(e),o=t==="x"?n.overflowX:n.overflowY;return o==="auto"||o==="scroll"||e.tagName==="HTML"&&o==="visible"},ts=(e,t,n)=>{const o=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let r=e,i=0,s=0,l=!1;do{const[c,a,u]=Qi(r,t),d=u-c-o*a;(a!==0||d!==0)&&es(r,t)&&(i+=d,s+=a),r===(n??document.documentElement)?l=!0:r=r._$host??r.parentElement}while(r&&!l);return[i,s]},[Bn,Vn]=P([]),ns=e=>Bn().indexOf(e)===Bn().length-1,os=e=>{const t=Xt({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),n=Ie();let o=[0,0],r=null,i=null;I(()=>{Y(t.enabled)&&(Vn(a=>[...a,n]),R(()=>{Vn(a=>a.filter(u=>u!==n))}))}),I(()=>{if(!Y(t.enabled)||!Y(t.hideScrollbar))return;const{body:a}=document,u=window.innerWidth-a.offsetWidth;if(Y(t.preventScrollbarShift)){const d={overflow:"hidden"},f=[];u>0&&(Y(t.preventScrollbarShiftMode)==="padding"?d.paddingRight=`calc(${window.getComputedStyle(a).paddingRight} + ${u}px)`:d.marginRight=`calc(${window.getComputedStyle(a).marginRight} + ${u}px)`,f.push({key:"--scrollbar-width",value:`${u}px`}));const g=window.scrollY,h=window.scrollX;kn({key:"prevent-scroll",element:a,style:d,properties:f,cleanup:()=>{Y(t.restoreScrollPosition)&&u>0&&window.scrollTo(h,g)}})}else kn({key:"prevent-scroll",element:a,style:{overflow:"hidden"}})}),I(()=>{!ns(n)||!Y(t.enabled)||(document.addEventListener("wheel",l,{passive:!1}),document.addEventListener("touchstart",s,{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),R(()=>{document.removeEventListener("wheel",l),document.removeEventListener("touchstart",s),document.removeEventListener("touchmove",c)}))});const s=a=>{o=Nn(a),r=null,i=null},l=a=>{const u=a.target,d=Y(t.element),f=rs(a),g=Math.abs(f[0])>Math.abs(f[1])?"x":"y",h=g==="x"?f[0]:f[1],m=_n(u,g,h,d);let y;d&&zt(d,u)?y=!m:y=!0,y&&a.cancelable&&a.preventDefault()},c=a=>{const u=Y(t.element),d=a.target;let f;if(a.touches.length===2)f=!Y(t.allowPinchZoom);else{if(r==null||i===null){const g=Nn(a).map((m,y)=>o[y]-m),h=Math.abs(g[0])>Math.abs(g[1])?"x":"y";r=h,i=h==="x"?g[0]:g[1]}if(d.type==="range")f=!1;else{const g=_n(d,r,i,u);u&&zt(u,d)?f=!g:f=!0}}f&&a.cancelable&&a.preventDefault()}},rs=e=>[e.deltaX,e.deltaY],Nn=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],_n=(e,t,n,o)=>{const r=o!==null&&zt(o,e),[i,s]=ts(e,t,r?o:void 0);return!(n>0&&Math.abs(i)<=1||n<0&&Math.abs(s)<1)},is=os,Ao=is,ss=e=>{const t=K(()=>{const s=Y(e.element);if(s)return getComputedStyle(s)}),n=()=>t()?.animationName??"none",[o,r]=P(Y(e.show)?"present":"hidden");let i="none";return I(s=>{const l=Y(e.show);return wt(()=>{if(s===l)return l;const c=i,a=n();l?r("present"):a==="none"||t()?.display==="none"?r("hidden"):r(s===!0&&c!==a?"hiding":"hidden")}),l}),I(()=>{const s=Y(e.element);if(!s)return;const l=a=>{a.target===s&&(i=n())},c=a=>{const d=n().includes(a.animationName);a.target===s&&d&&o()==="hiding"&&r("hidden")};s.addEventListener("animationstart",l),s.addEventListener("animationcancel",c),s.addEventListener("animationend",c),R(()=>{s.removeEventListener("animationstart",l),s.removeEventListener("animationcancel",c),s.removeEventListener("animationend",c)})}),{present:()=>o()==="present"||o()==="hiding",state:o,setState:r}},ls=ss,mt=ls,cs={};ot(cs,{CloseButton:()=>Ko,Content:()=>Fo,Description:()=>Mo,Dialog:()=>St,Overlay:()=>Ro,Portal:()=>ko,Root:()=>Bo,Title:()=>Vo,Trigger:()=>No,useDialogContext:()=>Pe});var Io=le();function Pe(){const e=ne(Io);if(e===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return e}function Ko(e){const t=Pe(),[n,o]=N(e,["aria-label","onClick"]);return E(rt,k({get"aria-label"(){return n["aria-label"]||t.translations().dismiss},onClick:i=>{H(i,n.onClick),t.close()}},o))}function Fo(e){let t;const n=Pe(),o=_({id:n.generateId("content")},e),[r,i]=N(o,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let s=!1,l=!1;const c=f=>{r.onPointerDownOutside?.(f),n.modal()&&f.detail.isContextMenu&&f.preventDefault()},a=f=>{r.onFocusOutside?.(f),n.modal()&&f.preventDefault()},u=f=>{r.onInteractOutside?.(f),!n.modal()&&(f.defaultPrevented||(s=!0,f.detail.originalEvent.type==="pointerdown"&&(l=!0)),de(n.triggerRef(),f.target)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&l&&f.preventDefault())},d=f=>{r.onCloseAutoFocus?.(f),n.modal()?(f.preventDefault(),X(n.triggerRef())):(f.defaultPrevented||(s||X(n.triggerRef()),f.preventDefault()),s=!1,l=!1)};return Po({isDisabled:()=>!(n.isOpen()&&n.modal()),targets:()=>[]}),Ao({element:()=>null,enabled:()=>n.contentPresent()&&n.preventScroll()}),Oo({trapFocus:()=>n.isOpen()&&n.modal(),onMountAutoFocus:r.onOpenAutoFocus,onUnmountAutoFocus:d},()=>t),I(()=>R(n.registerContentId(i.id))),E(te,{get when(){return n.contentPresent()},get children(){return E(rn,k({role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return n.modal()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get"aria-labelledby"(){return n.titleId()},get"aria-describedby"(){return n.descriptionId()},get"data-expanded"(){return n.isOpen()?"":void 0},get"data-closed"(){return n.isOpen()?void 0:""},onPointerDownOutside:c,onFocusOutside:a,onInteractOutside:u,get onDismiss(){return n.close}},i))}})}function Mo(e){const t=Pe(),n=_({id:t.generateId("description")},e),[o,r]=N(n,["id"]);return I(()=>R(t.registerDescriptionId(o.id))),E(j,k({as:"p",get id(){return o.id}},r))}function Ro(e){const t=Pe(),[n,o]=N(e,["ref","style","onPointerDown"]),r=i=>{H(i,n.onPointerDown),i.target===i.currentTarget&&i.preventDefault()};return E(te,{get when(){return t.overlayPresent()},get children(){return E(j,k({as:"div",get style(){return tt({"pointer-events":"auto"},n.style)},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:r},o))}})}function ko(e){const t=Pe();return E(te,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return E(Zt,e)}})}var $n={dismiss:"Dismiss"};function Bo(e){const t=`dialog-${Ie()}`,n=_({id:t,modal:!0,translations:$n},e),[o,r]=P(),[i,s]=P(),[l,c]=P(),[a,u]=P(),[d,f]=P(),[g,h]=P(),m=sn({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:x=>n.onOpenChange?.(x)}),y=()=>n.forceMount||m.isOpen(),{present:v}=mt({show:y,element:()=>a()??null}),{present:p}=mt({show:y,element:()=>d()??null}),w={translations:()=>n.translations??$n,isOpen:m.isOpen,modal:()=>n.modal??!0,preventScroll:()=>n.preventScroll??w.modal(),contentId:o,titleId:i,descriptionId:l,triggerRef:g,overlayRef:a,setOverlayRef:u,contentRef:d,setContentRef:f,overlayPresent:v,contentPresent:p,close:m.close,toggle:m.toggle,setTriggerRef:h,generateId:$e(()=>n.id),registerContentId:Q(r),registerTitleId:Q(s),registerDescriptionId:Q(c)};return E(Io.Provider,{value:w,get children(){return n.children}})}function Vo(e){const t=Pe(),n=_({id:t.generateId("title")},e),[o,r]=N(n,["id"]);return I(()=>R(t.registerTitleId(o.id))),E(j,k({as:"h2",get id(){return o.id}},r))}function No(e){const t=Pe(),[n,o]=N(e,["ref","onClick"]);return E(rt,k({"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return t.isOpen()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:i=>{H(i,n.onClick),t.toggle()}},o))}var St=Object.assign(Bo,{CloseButton:Ko,Content:Fo,Description:Mo,Overlay:Ro,Portal:ko,Title:Vo,Trigger:No});St.Trigger;St.Portal;St.CloseButton;function _o(e){let t=e.startIndex??0;const n=e.startLevel??0,o=[],r=c=>{if(c==null)return"";const a=e.getKey??"key",u=Be(a)?c[a]:a(c);return u!=null?String(u):""},i=c=>{if(c==null)return"";const a=e.getTextValue??"textValue",u=Be(a)?c[a]:a(c);return u!=null?String(u):""},s=c=>{if(c==null)return!1;const a=e.getDisabled??"disabled";return(Be(a)?c[a]:a(c))??!1},l=c=>{if(c!=null)return Be(e.getSectionChildren)?c[e.getSectionChildren]:e.getSectionChildren?.(c)};for(const c of e.dataSource){if(Be(c)||gi(c)){o.push({type:"item",rawValue:c,key:String(c),textValue:String(c),disabled:s(c),level:n,index:t}),t++;continue}if(l(c)!=null){o.push({type:"section",rawValue:c,key:"",textValue:"",disabled:!1,level:n,index:t}),t++;const a=l(c)??[];if(a.length>0){const u=_o({dataSource:a,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:n+1});o.push(...u),t+=u.length}}else o.push({type:"item",rawValue:c,key:r(c),textValue:i(c),disabled:s(c),level:n,index:t}),t++}return o}function as(e,t=[]){return K(()=>{const n=_o({dataSource:b(e.dataSource),getKey:b(e.getKey),getTextValue:b(e.getTextValue),getDisabled:b(e.getDisabled),getSectionChildren:b(e.getSectionChildren)});for(let o=0;o<t.length;o++)t[o]();return e.factory(n)})}var us=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),ds=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function fs(e){if(Intl.Locale){const n=new Intl.Locale(e).maximize().script??"";return us.has(n)}const t=e.split("-")[0];return ds.has(t)}function gs(e){return fs(e)?"rtl":"ltr"}function $o(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:gs(e)}}var Ht=$o(),Xe=new Set;function Wn(){Ht=$o();for(const e of Xe)e(Ht)}function hs(){const e={locale:"en-US",direction:"ltr"},[t,n]=P(Ht),o=K(()=>z?e:t());return Gt(()=>{Xe.size===0&&window.addEventListener("languagechange",Wn),Xe.add(n),R(()=>{Xe.delete(n),Xe.size===0&&window.removeEventListener("languagechange",Wn)})}),{locale:()=>o().locale,direction:()=>o().direction}}var ps=le();function ln(){const e=hs();return ne(ps)||e}var Nt=new Map;function Wo(e){const{locale:t}=ln(),n=K(()=>t()+(e?Object.entries(e).sort((o,r)=>o[0]<r[0]?-1:1).join():""));return K(()=>{const o=n();let r;return Nt.has(o)&&(r=Nt.get(o)),r||(r=new Intl.Collator(t(),e),Nt.set(o,r)),r})}var ue=class Uo extends Set{anchorKey;currentKey;constructor(t,n,o){super(t),t instanceof Uo?(this.anchorKey=n||t.anchorKey,this.currentKey=o||t.currentKey):(this.anchorKey=n,this.currentKey=o)}};function ms(e){const[t,n]=Lo(e);return[()=>t()??new ue,n]}function zo(e){return yi()?e.altKey:e.ctrlKey}function Ve(e){return nt()?e.metaKey:e.ctrlKey}function Un(e){return new ue(e)}function Ho(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ys(e){const t=_({selectionMode:"none",selectionBehavior:"toggle"},e),[n,o]=P(!1),[r,i]=P(),s=K(()=>{const m=b(t.selectedKeys);return m!=null?Un(m):m}),l=K(()=>{const m=b(t.defaultSelectedKeys);return m!=null?Un(m):new ue}),[c,a]=ms({value:s,defaultValue:l,onChange:m=>t.onSelectionChange?.(m)}),[u,d]=P(b(t.selectionBehavior)),f=()=>b(t.selectionMode),g=()=>b(t.disallowEmptySelection)??!1,h=m=>{(b(t.allowDuplicateSelectionEvents)||!Ho(m,c()))&&a(m)};return I(()=>{const m=c();b(t.selectionBehavior)==="replace"&&u()==="toggle"&&typeof m=="object"&&m.size===0&&d("replace")}),I(()=>{d(b(t.selectionBehavior)??"toggle")}),{selectionMode:f,disallowEmptySelection:g,selectionBehavior:u,setSelectionBehavior:d,isFocused:n,setFocused:o,focusedKey:r,setFocusedKey:i,selectedKeys:c,setSelectedKeys:h}}function jo(e){const[t,n]=P(""),[o,r]=P(-1);return{typeSelectHandlers:{onKeyDown:s=>{if(b(e.isDisabled))return;const l=b(e.keyboardDelegate),c=b(e.selectionManager);if(!l.getKeyForSearch)return;const a=vs(s.key);if(!a||s.ctrlKey||s.metaKey)return;a===" "&&t().trim().length>0&&(s.preventDefault(),s.stopPropagation());let u=n(f=>f+a),d=l.getKeyForSearch(u,c.focusedKey())??l.getKeyForSearch(u);d==null&&bs(u)&&(u=u[0],d=l.getKeyForSearch(u,c.focusedKey())??l.getKeyForSearch(u)),d!=null&&(c.setFocusedKey(d),e.onTypeSelect?.(d)),clearTimeout(o()),r(window.setTimeout(()=>n(""),500))}}}}function vs(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function bs(e){return e.split("").every(t=>t===e[0])}function ws(e,t,n){const r=Xt({selectOnFocus:()=>b(e.selectionManager).selectionBehavior()==="replace"},e),i=()=>n?.()??t(),{direction:s}=ln();let l={top:0,left:0};ai(()=>b(r.isVirtualized)?void 0:i(),"scroll",()=>{const y=i();y&&(l={top:y.scrollTop,left:y.scrollLeft})});const{typeSelectHandlers:c}=jo({isDisabled:()=>b(r.disallowTypeAhead),keyboardDelegate:()=>b(r.keyboardDelegate),selectionManager:()=>b(r.selectionManager)}),a=()=>b(r.orientation)??"vertical",u=y=>{H(y,c.onKeyDown),y.altKey&&y.key==="Tab"&&y.preventDefault();const v=t();if(!v?.contains(y.target))return;const p=b(r.selectionManager),w=b(r.selectOnFocus),x=D=>{D!=null&&(p.setFocusedKey(D),y.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(D):w&&!zo(y)&&p.replaceSelection(D))},S=b(r.keyboardDelegate),L=b(r.shouldFocusWrap),T=p.focusedKey();switch(y.key){case(a()==="vertical"?"ArrowDown":"ArrowRight"):{if(S.getKeyBelow){y.preventDefault();let D;T!=null?D=S.getKeyBelow(T):D=S.getFirstKey?.(),D==null&&L&&(D=S.getFirstKey?.(T)),x(D)}break}case(a()==="vertical"?"ArrowUp":"ArrowLeft"):{if(S.getKeyAbove){y.preventDefault();let D;T!=null?D=S.getKeyAbove(T):D=S.getLastKey?.(),D==null&&L&&(D=S.getLastKey?.(T)),x(D)}break}case(a()==="vertical"?"ArrowLeft":"ArrowUp"):{if(S.getKeyLeftOf){y.preventDefault();const D=s()==="rtl";let M;T!=null?M=S.getKeyLeftOf(T):M=D?S.getFirstKey?.():S.getLastKey?.(),x(M)}break}case(a()==="vertical"?"ArrowRight":"ArrowDown"):{if(S.getKeyRightOf){y.preventDefault();const D=s()==="rtl";let M;T!=null?M=S.getKeyRightOf(T):M=D?S.getLastKey?.():S.getFirstKey?.(),x(M)}break}case"Home":if(S.getFirstKey){y.preventDefault();const D=S.getFirstKey(T,Ve(y));D!=null&&(p.setFocusedKey(D),Ve(y)&&y.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(D):w&&p.replaceSelection(D))}break;case"End":if(S.getLastKey){y.preventDefault();const D=S.getLastKey(T,Ve(y));D!=null&&(p.setFocusedKey(D),Ve(y)&&y.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(D):w&&p.replaceSelection(D))}break;case"PageDown":if(S.getKeyPageBelow&&T!=null){y.preventDefault();const D=S.getKeyPageBelow(T);x(D)}break;case"PageUp":if(S.getKeyPageAbove&&T!=null){y.preventDefault();const D=S.getKeyPageAbove(T);x(D)}break;case"a":Ve(y)&&p.selectionMode()==="multiple"&&b(r.disallowSelectAll)!==!0&&(y.preventDefault(),p.selectAll());break;case"Escape":y.defaultPrevented||(y.preventDefault(),b(r.disallowEmptySelection)||p.clearSelection());break;case"Tab":if(!b(r.allowsTabNavigation)){if(y.shiftKey)v.focus();else{const D=Li(v,{tabbable:!0});let M,$;do $=D.lastChild(),$&&(M=$);while($);M&&!M.contains(document.activeElement)&&X(M)}break}}},d=y=>{const v=b(r.selectionManager),p=b(r.keyboardDelegate),w=b(r.selectOnFocus);if(v.isFocused()){y.currentTarget.contains(y.target)||v.setFocused(!1);return}if(y.currentTarget.contains(y.target)){if(v.setFocused(!0),v.focusedKey()==null){const x=L=>{L!=null&&(v.setFocusedKey(L),w&&v.replaceSelection(L))},S=y.relatedTarget;S&&y.currentTarget.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?x(v.lastSelectedKey()??p.getLastKey?.()):x(v.firstSelectedKey()??p.getFirstKey?.())}else if(!b(r.isVirtualized)){const x=i();if(x){x.scrollTop=l.top,x.scrollLeft=l.left;const S=x.querySelector(`[data-key="${v.focusedKey()}"]`);S&&(X(S),Ln(x,S))}}}},f=y=>{const v=b(r.selectionManager);y.currentTarget.contains(y.relatedTarget)||v.setFocused(!1)},g=y=>{i()===y.target&&y.preventDefault()},h=()=>{const y=b(r.autoFocus);if(!y)return;const v=b(r.selectionManager),p=b(r.keyboardDelegate);let w;y==="first"&&(w=p.getFirstKey?.()),y==="last"&&(w=p.getLastKey?.());const x=v.selectedKeys();x.size&&(w=x.values().next().value),v.setFocused(!0),v.setFocusedKey(w);const S=t();S&&w==null&&!b(r.shouldUseVirtualFocus)&&X(S)};return Gt(()=>{r.deferAutoFocus?setTimeout(h,0):h()}),I(Oe([i,()=>b(r.isVirtualized),()=>b(r.selectionManager).focusedKey()],y=>{const[v,p,w]=y;if(p)w&&r.scrollToKey?.(w);else if(w&&v){const x=v.querySelector(`[data-key="${w}"]`);x&&Ln(v,x)}})),{tabIndex:K(()=>{if(!b(r.shouldUseVirtualFocus))return b(r.selectionManager).focusedKey()==null?0:-1}),onKeyDown:u,onMouseDown:g,onFocusIn:d,onFocusOut:f}}function Ss(e,t){const n=()=>b(e.selectionManager),o=()=>b(e.key),r=()=>b(e.shouldUseVirtualFocus),i=p=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(o())&&!n().disallowEmptySelection()?n().toggleSelection(o()):n().replaceSelection(o()):p?.shiftKey?n().extendSelection(o()):n().selectionBehavior()==="toggle"||Ve(p)||"pointerType"in p&&p.pointerType==="touch"?n().toggleSelection(o()):n().replaceSelection(o()))},s=()=>n().isSelected(o()),l=()=>b(e.disabled)||n().isDisabled(o()),c=()=>!l()&&n().canSelectItem(o());let a=null;const u=p=>{c()&&(a=p.pointerType,p.pointerType==="mouse"&&p.button===0&&!b(e.shouldSelectOnPressUp)&&i(p))},d=p=>{c()&&p.pointerType==="mouse"&&p.button===0&&b(e.shouldSelectOnPressUp)&&b(e.allowsDifferentPressOrigin)&&i(p)},f=p=>{c()&&(b(e.shouldSelectOnPressUp)&&!b(e.allowsDifferentPressOrigin)||a!=="mouse")&&i(p)},g=p=>{!c()||!["Enter"," "].includes(p.key)||(zo(p)?n().toggleSelection(o()):i(p))},h=p=>{l()&&p.preventDefault()},m=p=>{const w=t();r()||l()||!w||p.target===w&&n().setFocusedKey(o())},y=K(()=>{if(!(r()||l()))return o()===n().focusedKey()?0:-1}),v=K(()=>b(e.virtualized)?void 0:o());return I(Oe([t,o,r,()=>n().focusedKey(),()=>n().isFocused()],([p,w,x,S,L])=>{p&&w===S&&L&&!x&&document.activeElement!==p&&(e.focus?e.focus():X(p))})),{isSelected:s,isDisabled:l,allowsSelection:c,tabIndex:y,dataKey:v,onPointerDown:u,onPointerUp:d,onClick:f,onKeyDown:g,onMouseDown:h,onFocus:m}}var xs=class{collection;state;constructor(e,t){this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index<e.index;(!e||o)&&(e=n)}return e?.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index>e.index;(!e||o)&&(e=n)}return e?.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=this.state.selectedKeys(),o=n.anchorKey||t,r=new ue(n,o,t);for(const i of this.getKeyRange(o,n.currentKey||t))r.delete(i);for(const i of this.getKeyRange(t,o))this.canSelectItem(i)&&r.add(i);this.state.setSelectedKeys(r)}getKeyRange(e,t){const n=this.collection().getItem(e),o=this.collection().getItem(t);return n&&o?n.index!=null&&o.index!=null&&n.index<=o.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const n=[];let o=e;for(;o!=null;){const r=this.collection().getItem(o);if(r&&r.type==="item"&&n.push(o),o===t)return n;o=this.collection().getKeyAfter(o)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=new ue(this.state.selectedKeys());n.has(t)?n.delete(t):this.canSelectItem(t)&&(n.add(t),n.anchorKey=t,n.currentKey=t),!(this.disallowEmptySelection()&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const n=this.canSelectItem(t)?new ue([t],t,t):new ue;this.state.setSelectedKeys(n)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new ue;for(const n of e){const o=this.getKey(n);if(o!=null&&(t.add(o),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new ue)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;for(const n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(n=>{for(;n!=null;){if(this.canSelectItem(n)){const o=this.collection().getItem(n);if(!o)continue;o.type==="item"&&e.push(n)}n=this.collection().getKeyAfter(n)}})(this.collection().getFirstKey()),e}},zn=class{keyMap=new Map;iterable;firstKey;lastKey;constructor(e){this.iterable=e;for(const o of e)this.keyMap.set(o.key,o);if(this.keyMap.size===0)return;let t,n=0;for(const[o,r]of this.keyMap)t?(t.nextKey=o,r.prevKey=t.key):(this.firstKey=o,r.prevKey=void 0),r.type==="item"&&(r.index=n++),t=r,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){return this.keyMap.get(e)?.prevKey}getKeyAfter(e){return this.keyMap.get(e)?.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function qo(e){const t=ys(e),o=as({dataSource:()=>b(e.dataSource),getKey:()=>b(e.getKey),getTextValue:()=>b(e.getTextValue),getDisabled:()=>b(e.getDisabled),getSectionChildren:()=>b(e.getSectionChildren),factory:i=>e.filter?new zn(e.filter(i)):new zn(i)},[()=>e.filter]),r=new xs(o,t);return kr(()=>{const i=t.focusedKey();i!=null&&!o().getItem(i)&&t.setFocusedKey(void 0)}),{collection:o,selectionManager:()=>r}}const Es=["top","right","bottom","left"],Ee=Math.min,J=Math.max,yt=Math.round,ft=Math.floor,fe=e=>({x:e,y:e}),Ds={left:"right",right:"left",bottom:"top",top:"bottom"},Ts={start:"end",end:"start"};function jt(e,t,n){return J(e,Ee(t,n))}function Ke(e,t){return typeof e=="function"?e(t):e}function De(e){return e.split("-")[0]}function We(e){return e.split("-")[1]}function Yo(e){return e==="x"?"y":"x"}function cn(e){return e==="y"?"height":"width"}const Os=new Set(["top","bottom"]);function ve(e){return Os.has(De(e))?"y":"x"}function an(e){return Yo(ve(e))}function Ps(e,t,n){n===void 0&&(n=!1);const o=We(e),r=an(e),i=cn(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=vt(s)),[s,vt(s)]}function Cs(e){const t=vt(e);return[qt(e),t,qt(t)]}function qt(e){return e.replace(/start|end/g,t=>Ts[t])}const Hn=["left","right"],jn=["right","left"],Ls=["top","bottom"],As=["bottom","top"];function Is(e,t,n){switch(e){case"top":case"bottom":return n?t?jn:Hn:t?Hn:jn;case"left":case"right":return t?Ls:As;default:return[]}}function Ks(e,t,n,o){const r=We(e);let i=Is(De(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(qt)))),i}function vt(e){return e.replace(/left|right|bottom|top/g,t=>Ds[t])}function Fs(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xo(e){return typeof e!="number"?Fs(e):{top:e,right:e,bottom:e,left:e}}function bt(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function qn(e,t,n){let{reference:o,floating:r}=e;const i=ve(t),s=an(t),l=cn(s),c=De(t),a=i==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,f=o[l]/2-r[l]/2;let g;switch(c){case"top":g={x:u,y:o.y-r.height};break;case"bottom":g={x:u,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:d};break;case"left":g={x:o.x-r.width,y:d};break;default:g={x:o.x,y:o.y}}switch(We(t)){case"start":g[s]-=f*(n&&a?-1:1);break;case"end":g[s]+=f*(n&&a?-1:1);break}return g}const Ms=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=qn(a,o,c),f=o,g={},h=0;for(let m=0;m<l.length;m++){const{name:y,fn:v}=l[m],{x:p,y:w,data:x,reset:S}=await v({x:u,y:d,initialPlacement:o,placement:f,strategy:r,middlewareData:g,rects:a,platform:s,elements:{reference:e,floating:t}});u=p??u,d=w??d,g={...g,[y]:{...g[y],...x}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(a=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):S.rects),{x:u,y:d}=qn(a,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:g}};async function Qe(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:g=0}=Ke(t,e),h=Xo(g),y=l[f?d==="floating"?"reference":"floating":d],v=bt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:u,strategy:c})),p=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=bt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(v.top-S.top+h.top)/x.y,bottom:(S.bottom-v.bottom+h.bottom)/x.y,left:(v.left-S.left+h.left)/x.x,right:(S.right-v.right+h.right)/x.x}}const Rs=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:a,padding:u=0}=Ke(e,t)||{};if(a==null)return{};const d=Xo(u),f={x:n,y:o},g=an(r),h=cn(g),m=await s.getDimensions(a),y=g==="y",v=y?"top":"left",p=y?"bottom":"right",w=y?"clientHeight":"clientWidth",x=i.reference[h]+i.reference[g]-f[g]-i.floating[h],S=f[g]-i.reference[g],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let T=L?L[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(L)))&&(T=l.floating[w]||i.floating[h]);const D=x/2-S/2,M=T/2-m[h]/2-1,$=Ee(d[v],M),U=Ee(d[p],M),V=$,Z=T-m[h]-U,A=T/2-m[h]/2+D,O=jt(V,A,Z),C=!c.arrow&&We(r)!=null&&A!==O&&i.reference[h]/2-(A<V?$:U)-m[h]/2<0,B=C?A<V?A-V:A-Z:0;return{[g]:f[g]+B,data:{[g]:O,centerOffset:A-O-B,...C&&{alignmentOffset:B}},reset:C}}}),ks=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:a}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=Ke(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=De(r),p=ve(l),w=De(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(a.floating)),S=f||(w||!m?[vt(l)]:Cs(l)),L=h!=="none";!f&&L&&S.push(...Ks(l,m,h,x));const T=[l,...S],D=await Qe(t,y),M=[];let $=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&M.push(D[v]),d){const A=Ps(r,s,x);M.push(D[A[0]],D[A[1]])}if($=[...$,{placement:r,overflows:M}],!M.every(A=>A<=0)){var U,V;const A=(((U=i.flip)==null?void 0:U.index)||0)+1,O=T[A];if(O&&(!(d==="alignment"?p!==ve(O):!1)||$.every(W=>ve(W.placement)===p?W.overflows[0]>0:!0)))return{data:{index:A,overflows:$},reset:{placement:O}};let C=(V=$.filter(B=>B.overflows[0]<=0).sort((B,W)=>B.overflows[1]-W.overflows[1])[0])==null?void 0:V.placement;if(!C)switch(g){case"bestFit":{var Z;const B=(Z=$.filter(W=>{if(L){const G=ve(W.placement);return G===p||G==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(G=>G>0).reduce((G,oe)=>G+oe,0)]).sort((W,G)=>W[1]-G[1])[0])==null?void 0:Z[0];B&&(C=B);break}case"initialPlacement":C=l;break}if(r!==C)return{reset:{placement:C}}}return{}}}};function Yn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xn(e){return Es.some(t=>e[t]>=0)}const Bs=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=Ke(e,t);switch(o){case"referenceHidden":{const i=await Qe(t,{...r,elementContext:"reference"}),s=Yn(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Xn(s)}}}case"escaped":{const i=await Qe(t,{...r,altBoundary:!0}),s=Yn(i,n.floating);return{data:{escapedOffsets:s,escaped:Xn(s)}}}default:return{}}}}},Vs=new Set(["left","top"]);async function Ns(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=De(n),l=We(n),c=ve(n)==="y",a=Vs.has(s)?-1:1,u=i&&c?-1:1,d=Ke(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof h=="number"&&(g=l==="end"?h*-1:h),c?{x:g*u,y:f*a}:{x:f*a,y:g*u}}const _s=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,c=await Ns(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},$s=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:y=>{let{x:v,y:p}=y;return{x:v,y:p}}},...c}=Ke(e,t),a={x:n,y:o},u=await Qe(t,c),d=ve(De(r)),f=Yo(d);let g=a[f],h=a[d];if(i){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",p=g+u[y],w=g-u[v];g=jt(p,g,w)}if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",p=h+u[y],w=h-u[v];h=jt(p,h,w)}const m=l.fn({...t,[f]:g,[d]:h});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[f]:i,[d]:s}}}}}},Ws=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...a}=Ke(e,t),u=await Qe(t,a),d=De(r),f=We(r),g=ve(r)==="y",{width:h,height:m}=i.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=d,y=f==="end"?"top":"bottom");const p=m-u.top-u.bottom,w=h-u.left-u.right,x=Ee(m-u[y],p),S=Ee(h-u[v],w),L=!t.middlewareData.shift;let T=x,D=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=w),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(T=p),L&&!f){const $=J(u.left,0),U=J(u.right,0),V=J(u.top,0),Z=J(u.bottom,0);g?D=h-2*($!==0||U!==0?$+U:J(u.left,u.right)):T=m-2*(V!==0||Z!==0?V+Z:J(u.top,u.bottom))}await c({...t,availableWidth:D,availableHeight:T});const M=await s.getDimensions(l.floating);return h!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function xt(){return typeof window<"u"}function Ue(e){return Go(e)?(e.nodeName||"").toLowerCase():"#document"}function ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function he(e){var t;return(t=(Go(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Go(e){return xt()?e instanceof Node||e instanceof ee(e).Node:!1}function ce(e){return xt()?e instanceof Element||e instanceof ee(e).Element:!1}function ge(e){return xt()?e instanceof HTMLElement||e instanceof ee(e).HTMLElement:!1}function Gn(e){return!xt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ee(e).ShadowRoot}const Us=new Set(["inline","contents"]);function it(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!Us.has(r)}const zs=new Set(["table","td","th"]);function Hs(e){return zs.has(Ue(e))}const js=[":popover-open",":modal"];function Et(e){return js.some(t=>{try{return e.matches(t)}catch{return!1}})}const qs=["transform","translate","scale","rotate","perspective"],Ys=["transform","translate","scale","rotate","perspective","filter"],Xs=["paint","layout","strict","content"];function un(e){const t=dn(),n=ce(e)?ae(e):e;return qs.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ys.some(o=>(n.willChange||"").includes(o))||Xs.some(o=>(n.contain||"").includes(o))}function Gs(e){let t=Te(e);for(;ge(t)&&!_e(t);){if(un(t))return t;if(Et(t))return null;t=Te(t)}return null}function dn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zs=new Set(["html","body","#document"]);function _e(e){return Zs.has(Ue(e))}function ae(e){return ee(e).getComputedStyle(e)}function Dt(e){return ce(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Te(e){if(Ue(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gn(e)&&e.host||he(e);return Gn(t)?t.host:t}function Zo(e){const t=Te(e);return _e(t)?e.ownerDocument?e.ownerDocument.body:e.body:ge(t)&&it(t)?t:Zo(t)}function et(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Zo(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=ee(r);if(i){const l=Yt(s);return t.concat(s,s.visualViewport||[],it(r)?r:[],l&&n?et(l):[])}return t.concat(r,et(r,[],n))}function Yt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jo(e){const t=ae(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ge(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=yt(n)!==i||yt(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function fn(e){return ce(e)?e:e.contextElement}function Ne(e){const t=fn(e);if(!ge(t))return fe(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=Jo(t);let s=(i?yt(n.width):n.width)/o,l=(i?yt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Js=fe(0);function Qo(e){const t=ee(e);return!dn()||!t.visualViewport?Js:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qs(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ee(e)?!1:t}function Ae(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=fn(e);let s=fe(1);t&&(o?ce(o)&&(s=Ne(o)):s=Ne(e));const l=Qs(i,n,o)?Qo(i):fe(0);let c=(r.left+l.x)/s.x,a=(r.top+l.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const f=ee(i),g=o&&ce(o)?ee(o):o;let h=f,m=Yt(h);for(;m&&o&&g!==h;){const y=Ne(m),v=m.getBoundingClientRect(),p=ae(m),w=v.left+(m.clientLeft+parseFloat(p.paddingLeft))*y.x,x=v.top+(m.clientTop+parseFloat(p.paddingTop))*y.y;c*=y.x,a*=y.y,u*=y.x,d*=y.y,c+=w,a+=x,h=ee(m),m=Yt(h)}}return bt({width:u,height:d,x:c,y:a})}function Tt(e,t){const n=Dt(e).scrollLeft;return t?t.left+n:Ae(he(e)).left+n}function er(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-Tt(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function el(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=he(o),l=t?Et(t.floating):!1;if(o===s||l&&i)return n;let c={scrollLeft:0,scrollTop:0},a=fe(1);const u=fe(0),d=ge(o);if((d||!d&&!i)&&((Ue(o)!=="body"||it(s))&&(c=Dt(o)),ge(o))){const g=Ae(o);a=Ne(o),u.x=g.x+o.clientLeft,u.y=g.y+o.clientTop}const f=s&&!d&&!i?er(s,c):fe(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+u.x+f.x,y:n.y*a.y-c.scrollTop*a.y+u.y+f.y}}function tl(e){return Array.from(e.getClientRects())}function nl(e){const t=he(e),n=Dt(e),o=e.ownerDocument.body,r=J(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=J(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Tt(e);const l=-n.scrollTop;return ae(o).direction==="rtl"&&(s+=J(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}const Zn=25;function ol(e,t){const n=ee(e),o=he(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const u=dn();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const a=Tt(o);if(a<=0){const u=o.ownerDocument,d=u.body,f=getComputedStyle(d),g=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,h=Math.abs(o.clientWidth-d.clientWidth-g);h<=Zn&&(i-=h)}else a<=Zn&&(i+=a);return{width:i,height:s,x:l,y:c}}const rl=new Set(["absolute","fixed"]);function il(e,t){const n=Ae(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=ge(e)?Ne(e):fe(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,a=o*i.y;return{width:s,height:l,x:c,y:a}}function Jn(e,t,n){let o;if(t==="viewport")o=ol(e,n);else if(t==="document")o=nl(he(e));else if(ce(t))o=il(t,n);else{const r=Qo(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return bt(o)}function tr(e,t){const n=Te(e);return n===t||!ce(n)||_e(n)?!1:ae(n).position==="fixed"||tr(n,t)}function sl(e,t){const n=t.get(e);if(n)return n;let o=et(e,[],!1).filter(l=>ce(l)&&Ue(l)!=="body"),r=null;const i=ae(e).position==="fixed";let s=i?Te(e):e;for(;ce(s)&&!_e(s);){const l=ae(s),c=un(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&rl.has(r.position)||it(s)&&!c&&tr(e,s))?o=o.filter(u=>u!==s):r=l,s=Te(s)}return t.set(e,o),o}function ll(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?Et(t)?[]:sl(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((a,u)=>{const d=Jn(t,u,r);return a.top=J(d.top,a.top),a.right=Ee(d.right,a.right),a.bottom=Ee(d.bottom,a.bottom),a.left=J(d.left,a.left),a},Jn(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cl(e){const{width:t,height:n}=Jo(e);return{width:t,height:n}}function al(e,t,n){const o=ge(t),r=he(t),i=n==="fixed",s=Ae(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=fe(0);function a(){c.x=Tt(r)}if(o||!o&&!i)if((Ue(t)!=="body"||it(r))&&(l=Dt(t)),o){const g=Ae(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else r&&a();i&&!o&&r&&a();const u=r&&!o&&!i?er(r,l):fe(0),d=s.left+l.scrollLeft-c.x-u.x,f=s.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function _t(e){return ae(e).position==="static"}function Qn(e,t){if(!ge(e)||ae(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return he(e)===n&&(n=n.ownerDocument.body),n}function nr(e,t){const n=ee(e);if(Et(e))return n;if(!ge(e)){let r=Te(e);for(;r&&!_e(r);){if(ce(r)&&!_t(r))return r;r=Te(r)}return n}let o=Qn(e,t);for(;o&&Hs(o)&&_t(o);)o=Qn(o,t);return o&&_e(o)&&_t(o)&&!un(o)?n:o||Gs(e)||n}const ul=async function(e){const t=this.getOffsetParent||nr,n=this.getDimensions,o=await n(e.floating);return{reference:al(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function dl(e){return ae(e).direction==="rtl"}const or={convertOffsetParentRelativeRectToViewportRelativeRect:el,getDocumentElement:he,getClippingRect:ll,getOffsetParent:nr,getElementRects:ul,getClientRects:tl,getDimensions:cl,getScale:Ne,isElement:ce,isRTL:dl};function rr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fl(e,t){let n=null,o;const r=he(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const a=e.getBoundingClientRect(),{left:u,top:d,width:f,height:g}=a;if(l||t(),!f||!g)return;const h=ft(d),m=ft(r.clientWidth-(u+f)),y=ft(r.clientHeight-(d+g)),v=ft(u),w={rootMargin:-h+"px "+-m+"px "+-y+"px "+-v+"px",threshold:J(0,Ee(1,c))||1};let x=!0;function S(L){const T=L[0].intersectionRatio;if(T!==c){if(!x)return s();T?s(!1,T):o=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!rr(a,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(S,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return s(!0),i}function gl(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=fn(e),u=r||i?[...a?et(a):[],...et(t)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=a&&l?fl(a,n):null;let f=-1,g=null;s&&(g=new ResizeObserver(v=>{let[p]=v;p&&p.target===a&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),n()}),a&&!c&&g.observe(a),g.observe(t));let h,m=c?Ae(e):null;c&&y();function y(){const v=Ae(e);m&&!rr(m,v)&&n(),m=v,h=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(p=>{r&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),d?.(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(h)}}const hl=_s,pl=$s,ml=ks,yl=Ws,vl=Bs,bl=Rs,wl=(e,t,n)=>{const o=new Map,r={platform:or,...n},i={...r.platform,_c:o};return Ms(e,t,{...r,platform:i})};var Sl=["<svg",' display="block" viewBox="','" style="transform:scale(1.02)"><g','><path fill="none"','></path><path stroke="none"',"></path></g></svg>"],gn=le();function hn(){const e=ne(gn);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Ge=30,eo=Ge/2,xl={top:180,right:-90,bottom:0,left:90},to="M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z";function st(e){const t=hn(),n=_({size:Ge},e),[o,r]=N(n,["ref","style","size"]),i=()=>t.currentPlacement().split("-")[0],s=El(t.contentRef),l=()=>s()?.getPropertyValue("background-color")||"none",c=()=>s()?.getPropertyValue(`border-${i()}-color`)||"none",a=()=>s()?.getPropertyValue(`border-${i()}-width`)||"0px",u=()=>Number.parseInt(a())*2*(Ge/o.size),d=()=>`rotate(${xl[i()]} ${eo} ${eo}) translate(0 2)`;return E(j,k({as:"div","aria-hidden":"true",get style(){return tt({position:"absolute","font-size":`${o.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:l(),stroke:c(),"stroke-width":u()},o.style)}},r,{get children(){return gt(Sl,$t(),`0 0 ${ye(Ge,!0)} ${ye(Ge,!0)}`,me("transform",ye(d(),!0),!1),me("d",ye(to,!0),!1),me("d",ye(to,!0),!1))}}))}function El(e){const[t,n]=P();return I(()=>{const o=e();o&&n(ho(o).getComputedStyle(o))}),t}function Dl(e){hn();const[t,n]=N(e,["ref","style"]);return E(j,k({as:"div","data-popper-positioner":"",get style(){return tt({position:"absolute",top:0,left:0,"min-width":"max-content"},t.style)}},n))}function no(e){const{x:t=0,y:n=0,width:o=0,height:r=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,n,o,r);const i={x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:n+r,left:t};return{...i,toJSON:()=>i}}function Tl(e,t){return{contextElement:e,getBoundingClientRect:()=>{const o=t(e);return o?no(o):e?e.getBoundingClientRect():no()}}}function Ol(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var Pl={top:"bottom",right:"left",bottom:"top",left:"right"};function Cl(e,t){const[n,o]=e.split("-"),r=Pl[n];return o?n==="left"||n==="right"?`${r} ${o==="start"?"top":"bottom"}`:o==="start"?`${r} ${t==="rtl"?"right":"left"}`:`${r} ${t==="rtl"?"left":"right"}`:`${r} center`}function Ll(e){const t=_({getAnchorRect:f=>f?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[n,o]=P(),[r,i]=P(),[s,l]=P(t.placement),c=()=>Tl(t.anchorRef?.(),t.getAnchorRect),{direction:a}=ln();async function u(){const f=c(),g=n(),h=r();if(!f||!g)return;const m=(h?.clientHeight||0)/2,y=typeof t.gutter=="number"?t.gutter+m:t.gutter??m;g.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),f.getBoundingClientRect();const v=[hl(({placement:L})=>{const T=!!L.split("-")[1];return{mainAxis:y,crossAxis:T?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const L=typeof t.flip=="string"?t.flip.split(" "):void 0;if(L!==void 0&&!L.every(Ol))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(ml({padding:t.overflowPadding,fallbackPlacements:L}))}(t.slide||t.overlap)&&v.push(pl({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),v.push(yl({padding:t.overflowPadding,apply({availableWidth:L,availableHeight:T,rects:D}){const M=Math.round(D.reference.width);L=Math.floor(L),T=Math.floor(T),g.style.setProperty("--kb-popper-anchor-width",`${M}px`),g.style.setProperty("--kb-popper-content-available-width",`${L}px`),g.style.setProperty("--kb-popper-content-available-height",`${T}px`),t.sameWidth&&(g.style.width=`${M}px`),t.fitViewport&&(g.style.maxWidth=`${L}px`,g.style.maxHeight=`${T}px`)}})),t.hideWhenDetached&&v.push(vl({padding:t.detachedPadding})),h&&v.push(bl({element:h,padding:t.arrowPadding}));const p=await wl(f,g,{placement:t.placement,strategy:"absolute",middleware:v,platform:{...or,isRTL:()=>a()==="rtl"}});if(l(p.placement),t.onCurrentPlacementChange?.(p.placement),!g)return;g.style.setProperty("--kb-popper-content-transform-origin",Cl(p.placement,a()));const w=Math.round(p.x),x=Math.round(p.y);let S;if(t.hideWhenDetached&&(S=p.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(g.style,{top:"0",left:"0",transform:`translate3d(${w}px, ${x}px, 0)`,visibility:S}),h&&p.middlewareData.arrow){const{x:L,y:T}=p.middlewareData.arrow,D=p.placement.split("-")[0];Object.assign(h.style,{left:L!=null?`${L}px`:"",top:T!=null?`${T}px`:"",[D]:"100%"})}}I(()=>{const f=c(),g=n();if(!f||!g)return;const h=gl(f,g,u,{elementResize:typeof ResizeObserver=="function"});R(h)}),I(()=>{const f=n(),g=t.contentRef?.();!f||!g||queueMicrotask(()=>{f.style.zIndex=getComputedStyle(g).zIndex})});const d={currentPlacement:s,contentRef:()=>t.contentRef?.(),setPositionerRef:o,setArrowRef:i};return E(gn.Provider,{value:d,get children(){return t.children}})}var Ot=Object.assign(Ll,{Arrow:st,Context:gn,usePopperContext:hn,Positioner:Dl}),Al={};ot(Al,{Arrow:()=>st,Content:()=>sr,Portal:()=>lr,Root:()=>cr,Tooltip:()=>ur,Trigger:()=>ar,useTooltipContext:()=>Pt});var ir=le();function Pt(){const e=ne(ir);if(e===void 0)throw new Error("[kobalte]: `useTooltipContext` must be used within a `Tooltip` component");return e}function sr(e){const t=Pt(),n=_({id:t.generateId("content")},e),[o,r]=N(n,["ref","style"]);return I(()=>R(t.registerContentId(r.id))),E(te,{get when(){return t.contentPresent()},get children(){return E(Ot.Positioner,{get children(){return E(rn,k({role:"tooltip",disableOutsidePointerEvents:!1,get style(){return tt({"--kb-tooltip-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},o.style)},onFocusOutside:i=>i.preventDefault(),onDismiss:()=>t.hideTooltip(!0)},()=>t.dataset(),r))}})}})}function lr(e){const t=Pt();return E(te,{get when(){return t.contentPresent()},get children(){return E(Zt,e)}})}function Il(e,t,n){const o=e.split("-")[0],r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=[],l=r.left+r.width/2,c=r.top+r.height/2;switch(o){case"top":s.push([r.left,c]),s.push([i.left,i.bottom]),s.push([i.left,i.top]),s.push([i.right,i.top]),s.push([i.right,i.bottom]),s.push([r.right,c]);break;case"right":s.push([l,r.top]),s.push([i.left,i.top]),s.push([i.right,i.top]),s.push([i.right,i.bottom]),s.push([i.left,i.bottom]),s.push([l,r.bottom]);break;case"bottom":s.push([r.left,c]),s.push([i.left,i.top]),s.push([i.left,i.bottom]),s.push([i.right,i.bottom]),s.push([i.right,i.top]),s.push([r.right,c]);break;case"left":s.push([l,r.top]),s.push([i.right,i.top]),s.push([i.left,i.top]),s.push([i.left,i.bottom]),s.push([i.right,i.bottom]),s.push([l,r.bottom]);break}return s}var Ce={},Kl=0,Re=!1,pe,qe,ke;function cr(e){const t=`tooltip-${Ie()}`,n=`${++Kl}`,o=_({id:t,openDelay:700,closeDelay:300,skipDelayDuration:300},e),[r,i]=N(o,["id","open","defaultOpen","onOpenChange","disabled","triggerOnFocusOnly","openDelay","closeDelay","skipDelayDuration","ignoreSafeArea","forceMount"]);let s;const[l,c]=P(),[a,u]=P(),[d,f]=P(),[g,h]=P(i.placement),m=sn({open:()=>r.open,defaultOpen:()=>r.defaultOpen,onOpenChange:A=>r.onOpenChange?.(A)}),{present:y}=mt({show:()=>r.forceMount||m.isOpen(),element:()=>d()??null}),v=()=>{Ce[n]=w},p=()=>{for(const A in Ce)A!==n&&(Ce[A](!0),delete Ce[A])},w=(A=!1)=>{z||(A||r.closeDelay&&r.closeDelay<=0?(window.clearTimeout(s),s=void 0,m.close()):s||(s=window.setTimeout(()=>{s=void 0,m.close()},r.closeDelay)),window.clearTimeout(pe),pe=void 0,r.skipDelayDuration&&r.skipDelayDuration>=0&&(ke=window.setTimeout(()=>{window.clearTimeout(ke),ke=void 0},r.skipDelayDuration)),Re&&(window.clearTimeout(qe),qe=window.setTimeout(()=>{delete Ce[n],qe=void 0,Re=!1},r.closeDelay)))},x=()=>{z||(clearTimeout(s),s=void 0,p(),v(),Re=!0,m.open(),window.clearTimeout(pe),pe=void 0,window.clearTimeout(qe),qe=void 0,window.clearTimeout(ke),ke=void 0)},S=()=>{z||(p(),v(),!m.isOpen()&&!pe&&!Re?pe=window.setTimeout(()=>{pe=void 0,Re=!0,x()},r.openDelay):m.isOpen()||x())},L=(A=!1)=>{z||(!A&&r.openDelay&&r.openDelay>0&&!s&&!ke?S():x())},T=()=>{z||(window.clearTimeout(pe),pe=void 0,Re=!1)},D=()=>{z||(window.clearTimeout(s),s=void 0)},M=A=>de(a(),A)||de(d(),A),$=A=>{const O=a(),C=d();if(!(!O||!C))return Il(A,O,C)},U=A=>{const O=A.target;if(M(O)){D();return}if(!r.ignoreSafeArea){const C=$(g());if(C&&Ki(Ii(A),C)){D();return}}s||w()};I(()=>{if(z||!m.isOpen())return;const A=se();A.addEventListener("pointermove",U,!0),R(()=>{A.removeEventListener("pointermove",U,!0)})}),I(()=>{const A=a();if(!A||!m.isOpen())return;const O=B=>{const W=B.target;de(W,A)&&w(!0)},C=ho();C.addEventListener("scroll",O,{capture:!0}),R(()=>{C.removeEventListener("scroll",O,{capture:!0})})}),R(()=>{clearTimeout(s),Ce[n]&&delete Ce[n]});const Z={dataset:K(()=>({"data-expanded":m.isOpen()?"":void 0,"data-closed":m.isOpen()?void 0:""})),isOpen:m.isOpen,isDisabled:()=>r.disabled??!1,triggerOnFocusOnly:()=>r.triggerOnFocusOnly??!1,contentId:l,contentPresent:y,openTooltip:L,hideTooltip:w,cancelOpening:T,generateId:$e(()=>o.id),registerContentId:Q(c),isTargetOnTooltip:M,setTriggerRef:u,setContentRef:f};return E(ir.Provider,{value:Z,get children(){return E(Ot,k({anchorRef:a,contentRef:d,onCurrentPlacementChange:h},i))}})}function ar(e){let t;const n=Pt(),[o,r]=N(e,["ref","onPointerEnter","onPointerLeave","onPointerDown","onClick","onFocus","onBlur"]);let i=!1,s=!1,l=!1;const c=()=>{i=!1},a=()=>{!n.isOpen()&&(s||l)&&n.openTooltip(l)},u=v=>{n.isOpen()&&!s&&!l&&n.hideTooltip(v)},d=v=>{H(v,o.onPointerEnter),!(v.pointerType==="touch"||n.triggerOnFocusOnly()||n.isDisabled()||v.defaultPrevented)&&(s=!0,a())},f=v=>{H(v,o.onPointerLeave),v.pointerType!=="touch"&&(s=!1,l=!1,n.isOpen()?u():n.cancelOpening())},g=v=>{H(v,o.onPointerDown),i=!0,se(t).addEventListener("pointerup",c,{once:!0})},h=v=>{H(v,o.onClick),s=!1,l=!1,u(!0)},m=v=>{H(v,o.onFocus),!(n.isDisabled()||v.defaultPrevented||i)&&(l=!0,a())},y=v=>{H(v,o.onBlur);const p=v.relatedTarget;n.isTargetOnTooltip(p)||(s=!1,l=!1,u(!0))};return R(()=>{z||se(t).removeEventListener("pointerup",c)}),E(j,k({as:"button",get"aria-describedby"(){return n.isOpen()?n.contentId():void 0},onPointerEnter:d,onPointerLeave:f,onPointerDown:g,onClick:h,onFocus:m,onBlur:y},()=>n.dataset(),r))}var ur=Object.assign(cr,{Arrow:st,Content:sr,Portal:lr,Trigger:ar});ur.Trigger;var Fl=["id","name","validationState","required","disabled","readOnly"];function Ml(e){const t=`form-control-${Ie()}`,n=_({id:t},e),[o,r]=P(),[i,s]=P(),[l,c]=P(),[a,u]=P(),d=(m,y,v)=>{const p=v!=null||o()!=null;return[v,o(),p&&y!=null?m:void 0].filter(Boolean).join(" ")||void 0},f=m=>[l(),a(),m].filter(Boolean).join(" ")||void 0,g=K(()=>({"data-valid":b(n.validationState)==="valid"?"":void 0,"data-invalid":b(n.validationState)==="invalid"?"":void 0,"data-required":b(n.required)?"":void 0,"data-disabled":b(n.disabled)?"":void 0,"data-readonly":b(n.readOnly)?"":void 0}));return{formControlContext:{name:()=>b(n.name)??b(n.id),dataset:g,validationState:()=>b(n.validationState),isRequired:()=>b(n.required),isDisabled:()=>b(n.disabled),isReadOnly:()=>b(n.readOnly),labelId:o,fieldId:i,descriptionId:l,errorMessageId:a,getAriaLabelledBy:d,getAriaDescribedBy:f,generateId:$e(()=>b(n.id)),registerLabel:Q(r),registerField:Q(s),registerDescription:Q(c),registerErrorMessage:Q(u)}}}var dr=le();function Fe(){const e=ne(dr);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function fr(e){const t=Fe(),n=_({id:t.generateId("description")},e);return I(()=>R(t.registerDescription(n.id))),E(j,k({as:"div"},()=>t.dataset(),n))}var Rl=["<option","",">","</option>"],kl="<option></option>",Bl=["<div",' style="','" aria-hidden="true"><input type="text"',' style="','"',"",">","</div>"];function Vl(e){const[t,n]=N(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),o=Fe(),[r,i]=P(!1),s=l=>{const c=t.collection.getItem(l);return E(te,{get when(){return c?.type==="item"},get children(){return gt(Rl,$t()+me("value",ye(l,!0),!1),me("selected",t.selectionManager.isSelected(l),!0),ye(c?.textValue))}})};return I(Oe(()=>t.selectionManager.selectedKeys(),(l,c)=>{c&&Ho(l,c)||i(!0)},{defer:!0})),gt(Bl,$t(),_r(So),me("tabindex",t.selectionManager.isFocused()||t.isOpen?-1:0,!1),$r("font-size:","16px"),me("required",o.isRequired(),!0),me("disabled",o.isDisabled(),!0)+me("readonly",ye(o.isReadOnly(),!0),!1),Wr("select",k({tabIndex:-1,get multiple(){return t.isMultiple},get name(){return o.name()},get required(){return o.isRequired()},get disabled(){return o.isDisabled()},get size(){return t.collection.getSize()},get value(){return t.selectionManager.firstSelectedKey()??""}},n),()=>[gt(kl),"<!--$-->",ye(E(te,{get when(){return t.isVirtualized},get fallback(){return E(bn,{get each(){return[...t.collection.getKeys()]},children:s})},get children(){return E(bn,{get each(){return[...t.selectionManager.selectedKeys()]},children:s})}})),"<!--/-->"],!1))}var oo=new WeakMap;function Nl(e){let t=oo.get(e);if(t!=null)return t;t=0;for(const n of e)n.type==="item"&&t++;return oo.set(e,t),t}var gr=class{collection;ref;collator;constructor(e,t,n){this.collection=e,this.ref=t,this.collator=n}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){return this.ref?.()?.querySelector(`[data-key="${e}"]`)??null}getKeyPageAbove(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);let r=e;for(;r&&n&&n.offsetTop>o;)r=this.getKeyAbove(r),n=r!=null?this.getItem(r):null;return r}getKeyPageBelow(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);let r=e;for(;r&&n&&n.offsetTop<o;)r=this.getKeyBelow(r),n=r!=null?this.getItem(r):null;return r}getKeyForSearch(e,t){const n=this.collator?.();if(!n)return;let o=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;o!=null;){const r=this.collection().getItem(o);if(r){const i=r.textValue.slice(0,e.length);if(r.textValue&&n.compare(i,e)===0)return o}o=this.getKeyBelow(o)}}};function _l(e,t,n){const o=Wo({usage:"search",sensitivity:"base"}),r=K(()=>{const i=b(e.keyboardDelegate);return i||new gr(e.collection,t,o)});return ws({selectionManager:()=>b(e.selectionManager),keyboardDelegate:r,autoFocus:()=>b(e.autoFocus),deferAutoFocus:()=>b(e.deferAutoFocus),shouldFocusWrap:()=>b(e.shouldFocusWrap),disallowEmptySelection:()=>b(e.disallowEmptySelection),selectOnFocus:()=>b(e.selectOnFocus),disallowTypeAhead:()=>b(e.disallowTypeAhead),shouldUseVirtualFocus:()=>b(e.shouldUseVirtualFocus),allowsTabNavigation:()=>b(e.allowsTabNavigation),isVirtualized:()=>b(e.isVirtualized),scrollToKey:i=>b(e.scrollToKey)?.(i),orientation:()=>b(e.orientation)},t,n)}var $l={};ot($l,{Item:()=>Ct,ItemDescription:()=>Lt,ItemIndicator:()=>At,ItemLabel:()=>It,Listbox:()=>Wl,Root:()=>mn,Section:()=>Kt,useListboxContext:()=>pr});var hr=le();function pr(){const e=ne(hr);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var mr=le();function pn(){const e=ne(mr);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function Ct(e){let t;const n=pr(),o=`${n.generateId("item")}-${Ie()}`,r=_({id:o},e),[i,s]=N(r,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[l,c]=P(),[a,u]=P(),d=()=>n.listState().selectionManager(),f=()=>d().focusedKey()===i.item.key,g=Ss({key:()=>i.item.key,selectionManager:d,shouldSelectOnPressUp:n.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>n.shouldSelectOnPressUp()&&n.shouldFocusOnHover(),shouldUseVirtualFocus:n.shouldUseVirtualFocus,disabled:()=>i.item.disabled},()=>t),h=()=>{if(d().selectionMode()!=="none")return g.isSelected()},m=K(()=>!(nt()&&vi())),y=()=>m()?i["aria-label"]:void 0,v=()=>m()?l():void 0,p=()=>m()?a():void 0,w=()=>{if(!n.isVirtualized())return;const D=n.listState().collection().getItem(i.item.key)?.index;return D!=null?D+1:void 0},x=()=>{if(n.isVirtualized())return Nl(n.listState().collection())},S=D=>{H(D,i.onPointerMove),D.pointerType==="mouse"&&!g.isDisabled()&&n.shouldFocusOnHover()&&(X(D.currentTarget),d().setFocused(!0),d().setFocusedKey(i.item.key))},L=K(()=>({"data-disabled":g.isDisabled()?"":void 0,"data-selected":g.isSelected()?"":void 0,"data-highlighted":f()?"":void 0})),T={isSelected:g.isSelected,dataset:L,generateId:$e(()=>s.id),registerLabelId:Q(c),registerDescriptionId:Q(u)};return E(mr.Provider,{value:T,get children(){return E(j,k({as:"li",role:"option",get tabIndex(){return g.tabIndex()},get"aria-disabled"(){return g.isDisabled()},get"aria-selected"(){return h()},get"aria-label"(){return y()},get"aria-labelledby"(){return v()},get"aria-describedby"(){return p()},get"aria-posinset"(){return w()},get"aria-setsize"(){return x()},get"data-key"(){return g.dataKey()},get onPointerDown(){return ie([i.onPointerDown,g.onPointerDown])},get onPointerUp(){return ie([i.onPointerUp,g.onPointerUp])},get onClick(){return ie([i.onClick,g.onClick])},get onKeyDown(){return ie([i.onKeyDown,g.onKeyDown])},get onMouseDown(){return ie([i.onMouseDown,g.onMouseDown])},get onFocus(){return ie([i.onFocus,g.onFocus])},onPointerMove:S},L,s))}})}function Lt(e){const t=pn(),n=_({id:t.generateId("description")},e);return I(()=>R(t.registerDescriptionId(n.id))),E(j,k({as:"div"},()=>t.dataset(),n))}function At(e){const t=pn(),n=_({id:t.generateId("indicator")},e),[o,r]=N(n,["forceMount"]);return E(te,{get when(){return o.forceMount||t.isSelected()},get children(){return E(j,k({as:"div","aria-hidden":"true"},()=>t.dataset(),r))}})}function It(e){const t=pn(),n=_({id:t.generateId("label")},e);return I(()=>R(t.registerLabelId(n.id))),E(j,k({as:"div"},()=>t.dataset(),n))}function mn(e){let t;const n=`listbox-${Ie()}`,o=_({id:n,selectionMode:"single",virtualized:!1},e),[r,i]=N(o,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),s=K(()=>r.state?r.state:qo({selectedKeys:()=>r.value,defaultSelectedKeys:()=>r.defaultValue,onSelectionChange:r.onChange,allowDuplicateSelectionEvents:()=>b(r.allowDuplicateSelectionEvents),disallowEmptySelection:()=>b(r.disallowEmptySelection),selectionBehavior:()=>b(r.selectionBehavior),selectionMode:()=>b(r.selectionMode),dataSource:()=>r.options??[],getKey:()=>r.optionValue,getTextValue:()=>r.optionTextValue,getDisabled:()=>r.optionDisabled,getSectionChildren:()=>r.optionGroupChildren})),l=_l({selectionManager:()=>s().selectionManager(),collection:()=>s().collection(),autoFocus:()=>b(r.autoFocus),shouldFocusWrap:()=>b(r.shouldFocusWrap),keyboardDelegate:()=>r.keyboardDelegate,disallowEmptySelection:()=>b(r.disallowEmptySelection),selectOnFocus:()=>b(r.selectOnFocus),disallowTypeAhead:()=>b(r.disallowTypeAhead),shouldUseVirtualFocus:()=>b(r.shouldUseVirtualFocus),allowsTabNavigation:()=>b(r.allowsTabNavigation),isVirtualized:()=>r.virtualized,scrollToKey:()=>r.scrollToItem},()=>t,()=>r.scrollRef?.()),c={listState:s,generateId:$e(()=>i.id),shouldUseVirtualFocus:()=>o.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>o.shouldSelectOnPressUp,shouldFocusOnHover:()=>o.shouldFocusOnHover,isVirtualized:()=>r.virtualized};return E(hr.Provider,{value:c,get children(){return E(j,k({as:"ul",role:"listbox",get tabIndex(){return l.tabIndex()},get"aria-multiselectable"(){return s().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return ie([r.onKeyDown,l.onKeyDown])},get onMouseDown(){return ie([r.onMouseDown,l.onMouseDown])},get onFocusIn(){return ie([r.onFocusIn,l.onFocusIn])},get onFocusOut(){return ie([r.onFocusOut,l.onFocusOut])}},i,{get children(){return E(te,{get when(){return!r.virtualized},get fallback(){return r.children?.(s().collection)},get children(){return E(di,{get each(){return[...s().collection()]},by:"key",children:a=>E(Br,{get children(){return[E(wn,{get when(){return a().type==="section"},get children(){return r.renderSection?.(a())}}),E(wn,{get when(){return a().type==="item"},get children(){return r.renderItem?.(a())}})]}})})}})}}))}})}function Kt(e){return E(j,k({as:"li",role:"presentation"},e))}var Wl=Object.assign(mn,{Item:Ct,ItemDescription:Lt,ItemIndicator:At,ItemLabel:It,Section:Kt}),Ul=["id","aria-label","aria-labelledby","aria-describedby"];function zl(e){const t=Fe(),n=_({id:t.generateId("field")},e);return I(()=>R(t.registerField(b(n.id)))),{fieldProps:{id:()=>b(n.id),ariaLabel:()=>b(n["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(b(n.id),b(n["aria-label"]),b(n["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(b(n["aria-describedby"]))}}}function Hl(e){let t;const n=Fe(),o=_({id:n.generateId("label")},e),[r,i]=N(o,["ref"]),s=xo(()=>t,()=>"label");return I(()=>R(n.registerLabel(i.id))),E(j,k({as:"label",get for(){return s()==="label"?n.fieldId():void 0}},()=>n.dataset(),i))}function jl(e,t){I(Oe(e,n=>{if(n==null)return;const o=ql(n);o!=null&&(o.addEventListener("reset",t,{passive:!0}),R(()=>{o.removeEventListener("reset",t)}))}))}function ql(e){return Yl(e)?e.form:e.closest("form")}function Yl(e){return e.matches("textarea, input, select, button")}function yr(e){const t=Fe(),n=_({id:t.generateId("error-message")},e),[o,r]=N(n,["forceMount"]),i=()=>t.validationState()==="invalid";return I(()=>{i()&&R(t.registerErrorMessage(r.id))}),E(te,{get when(){return o.forceMount||i()},get children(){return E(j,k({as:"div"},()=>t.dataset(),r))}})}var Xl={};ot(Xl,{Arrow:()=>st,Content:()=>br,Description:()=>fr,ErrorMessage:()=>yr,HiddenSelect:()=>wr,Icon:()=>Sr,Item:()=>Ct,ItemDescription:()=>Lt,ItemIndicator:()=>At,ItemLabel:()=>It,Label:()=>xr,Listbox:()=>Er,Portal:()=>Dr,Root:()=>Tr,Section:()=>Kt,Select:()=>lt,Trigger:()=>Or,Value:()=>Pr,useSelectContext:()=>we});var vr=le();function we(){const e=ne(vr);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function br(e){let t;const n=we(),[o,r]=N(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),i=l=>{n.close()},s=l=>{o.onFocusOutside?.(l),n.isOpen()&&n.isModal()&&l.preventDefault()};return Po({isDisabled:()=>!(n.isOpen()&&n.isModal()),targets:()=>[]}),Ao({element:()=>null,enabled:()=>n.contentPresent()&&n.preventScroll()}),Oo({trapFocus:()=>n.isOpen()&&n.isModal(),onMountAutoFocus:l=>{l.preventDefault()},onUnmountAutoFocus:l=>{o.onCloseAutoFocus?.(l),l.defaultPrevented||(X(n.triggerRef()),l.preventDefault())}},()=>t),E(te,{get when(){return n.contentPresent()},get children(){return E(Ot.Positioner,{get children(){return E(rn,k({get disableOutsidePointerEvents(){return n.isModal()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get style(){return tt({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},o.style)},onEscapeKeyDown:i,onFocusOutside:s,get onDismiss(){return n.close}},()=>n.dataset(),r))}})}})}function wr(e){const t=we();return E(Vl,k({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>t.triggerRef()?.focus()},e))}function Sr(e){const t=we(),n=_({children:""},e);return E(j,k({as:"span","aria-hidden":"true"},()=>t.dataset(),n))}function xr(e){const t=we(),[n,o]=N(e,["onClick"]);return E(Hl,k({as:"span",onClick:i=>{H(i,n.onClick),t.isDisabled()||t.triggerRef()?.focus()}},o))}function Er(e){const t=we(),n=_({id:t.generateId("listbox")},e),[o,r]=N(n,["ref","id","onKeyDown"]);return I(()=>R(t.registerListboxId(o.id))),E(mn,k({get id(){return o.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:s=>{H(s,o.onKeyDown),s.key==="Escape"&&s.preventDefault()}},r))}function Dr(e){const t=we();return E(te,{get when(){return t.contentPresent()},get children(){return E(Zt,e)}})}function Gl(e){const t=`select-${Ie()}`,n=_({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:e.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},e),[o,r,i,s]=N(n,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],Fl),[l,c]=P(),[a,u]=P(),[d,f]=P(),[g,h]=P(),[m,y]=P(),[v,p]=P(),[w,x]=P(),[S,L]=P(!0),T=F=>{const q=o.optionValue;return q==null?String(F):String(Qt(q)?q(F):F[q])},D=K(()=>{const F=o.optionGroupChildren;return F==null?o.options:o.options.flatMap(q=>q[F]??q)}),M=K(()=>D().map(F=>T(F))),$=F=>[...F].map(q=>D().find(Ft=>T(Ft)===q)).filter(q=>q!=null),U=sn({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:F=>o.onOpenChange?.(F)}),V=qo({selectedKeys:()=>o.value!=null?o.value.map(T):o.value,defaultSelectedKeys:()=>o.defaultValue!=null?o.defaultValue.map(T):o.defaultValue,onSelectionChange:F=>{o.onChange?.($(F)),o.closeOnSelection&&W()},allowDuplicateSelectionEvents:()=>b(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>b(o.disallowEmptySelection),selectionBehavior:()=>b(o.selectionBehavior),selectionMode:()=>o.selectionMode,dataSource:()=>o.options??[],getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren}),Z=K(()=>$(V.selectionManager().selectedKeys())),A=F=>{V.selectionManager().toggleSelection(T(F))},{present:O}=mt({show:()=>o.forceMount||U.isOpen(),element:()=>m()??null}),C=()=>{const F=v();F&&X(F)},B=F=>{if(o.options.length<=0)return;L(F),U.open();let q=V.selectionManager().firstSelectedKey();q==null&&(F==="first"?q=V.collection().getFirstKey():F==="last"&&(q=V.collection().getLastKey())),C(),V.selectionManager().setFocused(!0),V.selectionManager().setFocusedKey(q)},W=()=>{U.close(),V.selectionManager().setFocused(!1),V.selectionManager().setFocusedKey(void 0)},G=F=>{U.isOpen()?W():B(F)},{formControlContext:oe}=Ml(i);jl(g,()=>{const F=o.defaultValue?[...o.defaultValue].map(T):new ue;V.selectionManager().setSelectedKeys(F)});const Me=Wo({usage:"search",sensitivity:"base"}),Se=K(()=>{const F=b(o.keyboardDelegate);return F||new gr(V.collection,void 0,Me)}),xe=F=>o.itemComponent?.({item:F}),ct=F=>o.sectionComponent?.({section:F});I(Oe([M],([F])=>{const Ft=[...V.selectionManager().selectedKeys()].filter(Lr=>F.includes(Lr));V.selectionManager().setSelectedKeys(Ft)},{defer:!0}));const ze=K(()=>({"data-expanded":U.isOpen()?"":void 0,"data-closed":U.isOpen()?void 0:""})),yn={dataset:ze,isOpen:U.isOpen,isDisabled:()=>oe.isDisabled()??!1,isMultiple:()=>b(o.selectionMode)==="multiple",isVirtualized:()=>o.virtualized??!1,isModal:()=>o.modal??!1,preventScroll:()=>o.preventScroll??yn.isModal(),disallowTypeAhead:()=>o.disallowTypeAhead??!1,shouldFocusWrap:()=>o.shouldFocusWrap??!1,selectedOptions:Z,contentPresent:O,autoFocus:S,triggerRef:g,listState:()=>V,keyboardDelegate:Se,triggerId:l,valueId:a,listboxId:d,listboxAriaLabelledBy:w,setListboxAriaLabelledBy:x,setTriggerRef:h,setContentRef:y,setListboxRef:p,open:B,close:W,toggle:G,placeholder:()=>o.placeholder,renderItem:xe,renderSection:ct,removeOptionFromSelection:A,generateId:$e(()=>b(i.id)),registerTriggerId:Q(c),registerValueId:Q(u),registerListboxId:Q(f)};return E(dr.Provider,{value:oe,get children(){return E(vr.Provider,{value:yn,get children(){return E(Ot,k({anchorRef:g,contentRef:m},r,{get children(){return E(j,k({as:"div",role:"group",get id(){return b(i.id)}},()=>oe.dataset(),ze,s))}}))}})}})}function Tr(e){const[t,n]=N(e,["value","defaultValue","onChange","multiple"]),o=K(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),r=K(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return E(Gl,k({get value(){return o()},get defaultValue(){return r()},onChange:s=>{t.multiple?t.onChange?.(s??[]):t.onChange?.(s[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},n))}function Or(e){const t=Fe(),n=we(),o=_({id:n.generateId("trigger")},e),[r,i,s]=N(o,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],Ul),l=()=>n.listState().selectionManager(),c=()=>n.keyboardDelegate(),a=()=>r.disabled||n.isDisabled(),{fieldProps:u}=zl(i),{typeSelectHandlers:d}=jo({keyboardDelegate:c,selectionManager:l,onTypeSelect:p=>l().select(p)}),f=()=>[n.listboxAriaLabelledBy(),n.valueId()].filter(Boolean).join(" ")||void 0,g=p=>{H(p,r.onPointerDown),p.currentTarget.dataset.pointerType=p.pointerType,!a()&&p.pointerType!=="touch"&&p.button===0&&(p.preventDefault(),n.toggle(!0))},h=p=>{H(p,r.onClick),!a()&&p.currentTarget.dataset.pointerType==="touch"&&n.toggle(!0)},m=p=>{if(H(p,r.onKeyDown),!a())switch(H(p,d.onKeyDown),p.key){case"Enter":case" ":case"ArrowDown":p.stopPropagation(),p.preventDefault(),n.toggle("first");break;case"ArrowUp":p.stopPropagation(),p.preventDefault(),n.toggle("last");break;case"ArrowLeft":{if(p.preventDefault(),n.isMultiple())return;const w=l().firstSelectedKey(),x=w!=null?c().getKeyAbove?.(w):c().getFirstKey?.();x!=null&&l().select(x);break}case"ArrowRight":{if(p.preventDefault(),n.isMultiple())return;const w=l().firstSelectedKey(),x=w!=null?c().getKeyBelow?.(w):c().getFirstKey?.();x!=null&&l().select(x);break}}},y=p=>{H(p,r.onFocus),!l().isFocused()&&l().setFocused(!0)},v=p=>{H(p,r.onBlur),!n.isOpen()&&l().setFocused(!1)};return I(()=>R(n.registerTriggerId(u.id()))),I(()=>{n.setListboxAriaLabelledBy([u.ariaLabelledBy(),u.ariaLabel()&&!u.ariaLabelledBy()?u.id():null].filter(Boolean).join(" ")||void 0)}),E(rt,k({get id(){return u.id()},get disabled(){return a()},"aria-haspopup":"listbox",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return n.isOpen()?n.listboxId():void 0},get"aria-label"(){return u.ariaLabel()},get"aria-labelledby"(){return f()},get"aria-describedby"(){return u.ariaDescribedBy()},onPointerDown:g,onClick:h,onKeyDown:m,onFocus:y,onBlur:v},()=>n.dataset(),()=>t.dataset(),s))}function Pr(e){const t=Fe(),n=we(),o=_({id:n.generateId("value")},e),[r,i]=N(o,["id","children"]),s=()=>n.listState().selectionManager(),l=()=>{const c=s().selectedKeys();return c.size===1&&c.has("")?!0:s().isEmpty()};return I(()=>R(n.registerValueId(r.id))),E(j,k({as:"span",get id(){return r.id},get"data-placeholder-shown"(){return l()?"":void 0}},()=>t.dataset(),i,{get children(){return E(te,{get when(){return!l()},get fallback(){return n.placeholder()},get children(){return E(Zl,{state:{selectedOption:()=>n.selectedOptions()[0],selectedOptions:()=>n.selectedOptions(),remove:c=>n.removeOptionFromSelection(c),clear:()=>s().clearSelection()},get children(){return r.children}})}})}}))}function Zl(e){return Vr(()=>{const n=e.children;return Qt(n)?n(e.state):n})()}var lt=Object.assign(Tr,{Arrow:st,Content:br,Description:fr,ErrorMessage:yr,HiddenSelect:wr,Icon:Sr,Item:Ct,ItemDescription:Lt,ItemIndicator:At,ItemLabel:It,Label:xr,Listbox:Er,Portal:Dr,Section:Kt,Trigger:Or,Value:Pr});lt.Value;lt.Item;lt.ItemLabel;lt.ItemIndicator;const Cr=le(),cc=e=>{const[t,n]=P(e.defaultTheme??"system"),o=()=>{const r=t();return r==="system"?typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark":r};return I(()=>{if(typeof document<"u"){const r=o();document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r)}}),E(Cr.Provider,{value:{theme:t,setTheme:n,resolvedTheme:o},get children(){return e.children}})};function ac(){const e=ne(Cr);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}export{Bi as B,Jr as R,cc as T,sc as a,lc as b,ni as c,Rt as d,fo as e,Ur as f,ic as g,oc as h,rc as i,Ze as j,ec as k,ac as l,jr as m,tc as n,lo as s,nc as u};
